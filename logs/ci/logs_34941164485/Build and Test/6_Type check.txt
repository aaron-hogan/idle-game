2025-02-26T21:47:20.5032371Z ##[group]Run npm run typecheck
2025-02-26T21:47:20.5032685Z [36;1mnpm run typecheck[0m
2025-02-26T21:47:20.5073678Z shell: /usr/bin/bash -e {0}
2025-02-26T21:47:20.5073947Z ##[endgroup]
2025-02-26T21:47:20.6225622Z 
2025-02-26T21:47:20.6226084Z > idle-game@0.1.0 typecheck
2025-02-26T21:47:20.6226605Z > tsc --noEmit
2025-02-26T21:47:20.6226870Z 
2025-02-26T21:47:25.6232663Z ##[error]src/components/resources/ResourceGenerators.tsx(49,9): error TS1345: An expression of type 'void' cannot be tested for truthiness.
2025-02-26T21:47:25.6245129Z ##[error]src/core/GameManager.test.ts(105,25): error TS2352: Conversion of type 'ActionCreatorWithPayload<number, "game/addPlayTime">' to type 'Mock<any, any, any>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
2025-02-26T21:47:25.6248526Z   Type 'ActionCreatorWithPayload<number, "game/addPlayTime">' is missing the following properties from type 'Mock<any, any, any>': getMockName, mock, mockClear, mockReset, and 13 more.
2025-02-26T21:47:25.6251312Z ##[error]src/debug/deprecated/DebugPanel.tsx(2,48): error TS2307: Cannot find module '../state/hooks' or its corresponding type declarations.
2025-02-26T21:47:25.6254191Z ##[error]src/debug/deprecated/DebugPanel.tsx(3,58): error TS2307: Cannot find module '../state/selectors' or its corresponding type declarations.
2025-02-26T21:47:25.6257233Z ##[error]src/debug/deprecated/DebugPanel.tsx(4,26): error TS2307: Cannot find module '../core/GameLoop' or its corresponding type declarations.
2025-02-26T21:47:25.6260206Z ##[error]src/debug/deprecated/DebugPanel.tsx(5,34): error TS2307: Cannot find module '../state/gameSlice' or its corresponding type declarations.
2025-02-26T21:47:25.6263163Z ##[error]src/debug/deprecated/TickRateChecker.tsx(2,26): error TS2307: Cannot find module '../core/GameLoop' or its corresponding type declarations.
2025-02-26T21:47:25.6266360Z ##[error]src/debug/deprecated/TickRateChecker.tsx(3,32): error TS2307: Cannot find module '../state/hooks' or its corresponding type declarations.
2025-02-26T21:47:25.6269369Z ##[error]src/debug/deprecated/TickRateChecker.tsx(4,58): error TS2307: Cannot find module '../state/selectors' or its corresponding type declarations.
2025-02-26T21:47:25.6272346Z ##[error]src/debug/deprecated/TickRateTest.tsx(2,48): error TS2307: Cannot find module '../state/hooks' or its corresponding type declarations.
2025-02-26T21:47:25.6275502Z ##[error]src/debug/deprecated/TickRateTest.tsx(3,37): error TS2307: Cannot find module '../state/selectors' or its corresponding type declarations.
2025-02-26T21:47:25.6278423Z ##[error]src/debug/deprecated/TickRateTest.tsx(4,28): error TS2307: Cannot find module '../utils/timeUtils' or its corresponding type declarations.
2025-02-26T21:47:25.6281306Z ##[error]src/debug/deprecated/TickRateTest.tsx(5,26): error TS2307: Cannot find module '../core/GameLoop' or its corresponding type declarations.
2025-02-26T21:47:25.6284532Z ##[error]src/debug/tabs/GameLoopDebugTab.tsx(159,7): error TS2322: Type '"special"' is not assignable to type '"neutral" | "good" | "warning" | "bad" | undefined'.
2025-02-26T21:47:25.6287891Z ##[error]src/debug/tabs/GameLoopDebugTab.tsx(285,7): error TS2322: Type '"special"' is not assignable to type '"neutral" | "good" | "warning" | "bad" | undefined'.
2025-02-26T21:47:25.6293134Z ##[error]src/gameCore.integration.test.tsx(29,9): error TS2322: Type 'Reducer<GameState>' is not assignable to type 'Reducer<GameState, UnknownAction, { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; ... 4 more ...; startDate: number; }>'.
2025-02-26T21:47:25.6296102Z   Types of parameters 'state' and 'state' are incompatible.
2025-02-26T21:47:25.6298798Z     Type 'GameState | { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; } | undefined' is not assignable to type 'GameState | undefined'.
2025-02-26T21:47:25.6303812Z       Type '{ gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6307091Z ##[error]src/patches/resourceTickFix.ts(87,24): error TS2769: No overload matches this call.
2025-02-26T21:47:25.6308828Z   Overload 1 of 2, '(id: number | undefined): void', gave the following error.
2025-02-26T21:47:25.6309869Z     Argument of type 'number | null' is not assignable to parameter of type 'number | undefined'.
2025-02-26T21:47:25.6310806Z       Type 'null' is not assignable to type 'number | undefined'.
2025-02-26T21:47:25.6311831Z   Overload 2 of 2, '(intervalId: string | number | Timeout | undefined): void', gave the following error.
2025-02-26T21:47:25.6313136Z     Argument of type 'number | null' is not assignable to parameter of type 'string | number | Timeout | undefined'.
2025-02-26T21:47:25.6314283Z       Type 'null' is not assignable to type 'string | number | Timeout | undefined'.
2025-02-26T21:47:25.6318181Z ##[error]src/state/gameSlice.test.ts(34,32): error TS2345: Argument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:47:25.6321917Z   Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6326488Z ##[error]src/state/gameSlice.test.ts(44,32): error TS2345: Argument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:47:25.6330266Z   Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6334872Z ##[error]src/state/gameSlice.test.ts(54,32): error TS2345: Argument of type '{ totalPlayTime: number; gameStage: number; lastSaveTime: any; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:47:25.6338654Z   Type '{ totalPlayTime: number; gameStage: number; lastSaveTime: any; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6343188Z ##[error]src/state/gameSlice.test.ts(60,32): error TS2345: Argument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:47:25.6347106Z   Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6351698Z ##[error]src/state/gameSlice.test.ts(74,32): error TS2345: Argument of type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: number; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:47:25.6355695Z   Type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6360359Z ##[error]src/state/selectors.test.ts(94,32): error TS2352: Conversion of type '{ resources: { 'collective-power': Resource; solidarity: Resource; 'community-trust': Resource; }; structures: { 'union-office': Structure; 'community-center': Structure; 'alternative-media': Structure; }; game: { ...; }; }' to type 'RootState' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
2025-02-26T21:47:25.6363505Z   Type '{ resources: { 'collective-power': Resource; solidarity: Resource; 'community-trust': Resource; }; structures: { 'union-office': Structure; 'community-center': Structure; 'alternative-media': Structure; }; game: { ...; }; }' is missing the following properties from type 'RootState': tasks, events, progression
2025-02-26T21:47:25.6367570Z ##[error]src/systems/__tests__/gameLoop.test.ts(73,25): error TS2345: Argument of type 'EnhancedStore<{ resources: ResourcesState; game: GameState; structures: StructuresState; }, UnknownAction, Tuple<[StoreEnhancer<{ dispatch: ThunkDispatch<{ ...; }, undefined, UnknownAction>; }>, StoreEnhancer]>>' is not assignable to parameter of type 'Store<RootState, UnknownAction, unknown>'.
2025-02-26T21:47:25.6369532Z   The types returned by 'getState()' are incompatible between these types.
2025-02-26T21:47:25.6370467Z     Type '{ resources: ResourcesState; game: GameState; structures: StructuresState; }' is missing the following properties from type 'RootState': tasks, events, progression
2025-02-26T21:47:25.6373155Z ##[error]src/systems/__tests__/saveManager.test.ts(17,3): error TS2739: Type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: true; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6375554Z ##[error]src/systems/gameLoop.test.ts(86,55): error TS2345: Argument of type 'number' is not assignable to parameter of type 'Timeout'.
2025-02-26T21:47:25.6377180Z ##[error]src/systems/gameLoop.test.ts(99,55): error TS2345: Argument of type 'number' is not assignable to parameter of type 'Timeout'.
2025-02-26T21:47:25.6378662Z ##[error]src/systems/gameLoop.ts(534,36): error TS18048: 'DEFAULT_CONFIG.tickInterval' is possibly 'undefined'.
2025-02-26T21:47:25.6379928Z ##[error]src/systems/gameLoop.ts(537,18): error TS2532: Object is possibly 'undefined'.
2025-02-26T21:47:25.6381308Z ##[error]src/systems/gameLoop.ts(562,7): error TS2322: Type 'number | undefined' is not assignable to type 'number'.
2025-02-26T21:47:25.6382352Z   Type 'undefined' is not assignable to type 'number'.
2025-02-26T21:47:25.6383490Z ##[error]src/tests/tickingTest.ts(63,10): error TS2339: Property 'runTickingTest' does not exist on type 'Window & typeof globalThis'.
2025-02-26T21:47:25.6386719Z ##[error]src/utils/__tests__/saveUtils.test.ts(43,3): error TS2739: Type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: true; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6390249Z ##[error]src/workers.integration.test.tsx(29,9): error TS2322: Type 'Reducer<GameState>' is not assignable to type 'Reducer<GameState, UnknownAction, { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; ... 4 more ...; startDate: number; }>'.
2025-02-26T21:47:25.6391890Z   Types of parameters 'state' and 'state' are incompatible.
2025-02-26T21:47:25.6393457Z     Type 'GameState | { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; } | undefined' is not assignable to type 'GameState | undefined'.
2025-02-26T21:47:25.6396403Z       Type '{ gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:47:25.6600630Z ##[error]Process completed with exit code 2.
