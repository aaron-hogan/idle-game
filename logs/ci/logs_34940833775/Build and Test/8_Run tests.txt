2025-02-26T21:38:56.6767480Z ##[group]Run npm test -- --coverage
2025-02-26T21:38:56.6768060Z [36;1mnpm test -- --coverage[0m
2025-02-26T21:38:56.6835186Z shell: /usr/bin/bash -e {0}
2025-02-26T21:38:56.6835586Z ##[endgroup]
2025-02-26T21:38:56.8053874Z 
2025-02-26T21:38:56.8054800Z > idle-game@0.1.0 test
2025-02-26T21:38:56.8055230Z > jest --coverage
2025-02-26T21:38:56.8055411Z 
2025-02-26T21:39:07.4498721Z PASS src/systems/__tests__/workerManager.test.ts (9.436 s)
2025-02-26T21:39:07.4734472Z FAIL src/systems/resourceManager.test.ts (9.466 s)
2025-02-26T21:39:07.4740414Z   ● ResourceManager › calculateResourceGeneration › calculates and updates resource generation rates based on structures
2025-02-26T21:39:07.4745492Z 
2025-02-26T21:39:07.4749451Z     expect(jest.fn()).toHaveBeenCalledWith(...expected)
2025-02-26T21:39:07.4753632Z 
2025-02-26T21:39:07.4757424Z     - Expected
2025-02-26T21:39:07.4762018Z     + Received
2025-02-26T21:39:07.4766190Z 
2025-02-26T21:39:07.4781757Z       Object {
2025-02-26T21:39:07.4786997Z     -   "id": "test-resource-1",
2025-02-26T21:39:07.4789597Z     -   "perSecond": Any<Number>,
2025-02-26T21:39:07.4792095Z     +   "id": "oppression",
2025-02-26T21:39:07.4794216Z     +   "perSecond": 0.05,
2025-02-26T21:39:07.4796236Z       },
2025-02-26T21:39:07.4797837Z 
2025-02-26T21:39:07.4799514Z     Number of calls: 1
2025-02-26T21:39:07.4801646Z 
2025-02-26T21:39:07.4803612Z     [0m [90m 202 |[39m       
2025-02-26T21:39:07.4806080Z      [90m 203 |[39m       [90m// Check resource 1 generation[39m
2025-02-26T21:39:07.4808797Z     [31m[1m>[22m[39m[90m 204 |[39m       expect(updateResourcePerSecondSpy)[33m.[39mtoHaveBeenCalledWith({
2025-02-26T21:39:07.4811852Z      [90m     |[39m                                          [31m[1m^[22m[39m
2025-02-26T21:39:07.4826528Z      [90m 205 |[39m         id[33m:[39m [32m'test-resource-1'[39m[33m,[39m
2025-02-26T21:39:07.4827742Z      [90m 206 |[39m         perSecond[33m:[39m expect[33m.[39many([33mNumber[39m)[33m,[39m
2025-02-26T21:39:07.4828772Z      [90m 207 |[39m       })[33m;[39m[0m
2025-02-26T21:39:07.4829153Z 
2025-02-26T21:39:07.4829658Z       at Object.<anonymous> (src/systems/resourceManager.test.ts:204:42)
2025-02-26T21:39:07.4830153Z 
2025-02-26T21:39:07.6302800Z PASS src/systems/__tests__/buildingManager.test.ts (9.587 s)
2025-02-26T21:39:08.8112399Z FAIL src/systems/__tests__/saveManager.test.ts
2025-02-26T21:39:08.8132102Z   ● Test suite failed to run
2025-02-26T21:39:08.8132450Z 
2025-02-26T21:39:08.8134903Z     [96msrc/systems/__tests__/saveManager.test.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m TS2739: [0mType '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: true; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:08.8136718Z 
2025-02-26T21:39:08.8136915Z     [7m17[0m   game: {
2025-02-26T21:39:08.8137368Z     [7m  [0m [91m  ~~~~[0m
2025-02-26T21:39:08.8137656Z 
2025-02-26T21:39:08.8137994Z       [96msrc/state/store.ts[0m:[93m51[0m:[93m3[0m
2025-02-26T21:39:08.8138647Z         [7m51[0m   game: ReturnType<typeof gameReducer>,
2025-02-26T21:39:08.8139248Z         [7m  [0m [96m  ~~~~[0m
2025-02-26T21:39:08.8140099Z         The expected type comes from property 'game' which is declared here on type 'Partial<RootState>'
2025-02-26T21:39:08.8140646Z 
2025-02-26T21:39:09.1730183Z FAIL src/managers/progression/ProgressionManager.test.ts
2025-02-26T21:39:09.1765334Z   ● ProgressionManager › evaluateRequirement › should handle unknown requirement types
2025-02-26T21:39:09.1766020Z 
2025-02-26T21:39:09.1766301Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:09.1766656Z 
2025-02-26T21:39:09.1766797Z     Expected: false
2025-02-26T21:39:09.1767125Z     Received: true
2025-02-26T21:39:09.1767313Z 
2025-02-26T21:39:09.1767527Z     [0m [90m 124 |[39m
2025-02-26T21:39:09.1768180Z      [90m 125 |[39m       [90m// Use the private method for testing[39m
2025-02-26T21:39:09.1769947Z     [31m[1m>[22m[39m[90m 126 |[39m       expect((manager [36mas[39m any)[33m.[39mevaluateRequirement(requirement))[33m.[39mtoBe([36mfalse[39m)[33m;[39m
2025-02-26T21:39:09.1771696Z      [90m     |[39m                                                                 [31m[1m^[22m[39m
2025-02-26T21:39:09.1772358Z      [90m 127 |[39m     })[33m;[39m
2025-02-26T21:39:09.1772870Z      [90m 128 |[39m   })[33m;[39m
2025-02-26T21:39:09.1773315Z      [90m 129 |[39m[0m
2025-02-26T21:39:09.1773545Z 
2025-02-26T21:39:09.1774050Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:126:65)
2025-02-26T21:39:09.1774607Z 
2025-02-26T21:39:09.1775394Z   ● ProgressionManager › completeMilestone › should not complete a milestone that is already completed
2025-02-26T21:39:09.1776045Z 
2025-02-26T21:39:09.1776356Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:09.1776727Z 
2025-02-26T21:39:09.1776895Z     Expected: false
2025-02-26T21:39:09.1777238Z     Received: true
2025-02-26T21:39:09.1777449Z 
2025-02-26T21:39:09.1777736Z     [0m [90m 161 |[39m       
2025-02-26T21:39:09.1778416Z      [90m 162 |[39m       [90m// Attempt to complete the milestone[39m
2025-02-26T21:39:09.1779756Z     [31m[1m>[22m[39m[90m 163 |[39m       expect(manager[33m.[39mcompleteMilestone([32m'milestone1'[39m))[33m.[39mtoBe([36mfalse[39m)[33m;[39m
2025-02-26T21:39:09.1781159Z      [90m     |[39m                                                       [31m[1m^[22m[39m
2025-02-26T21:39:09.1782214Z      [90m 164 |[39m       expect(completeMilestone)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
2025-02-26T21:39:09.1783036Z      [90m 165 |[39m     })[33m;[39m
2025-02-26T21:39:09.1783566Z      [90m 166 |[39m   })[33m;[39m[0m
2025-02-26T21:39:09.1783855Z 
2025-02-26T21:39:09.1784350Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:163:55)
2025-02-26T21:39:09.1784909Z 
2025-02-26T21:39:09.1785639Z   ● ProgressionManager › unlockAchievement › should not unlock an achievement that is already unlocked
2025-02-26T21:39:09.1786291Z 
2025-02-26T21:39:09.1786599Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:09.1787001Z 
2025-02-26T21:39:09.1787145Z     Expected: false
2025-02-26T21:39:09.1787457Z     Received: true
2025-02-26T21:39:09.1787632Z 
2025-02-26T21:39:09.1787873Z     [0m [90m 200 |[39m       
2025-02-26T21:39:09.1788594Z      [90m 201 |[39m       [90m// Attempt to unlock the achievement[39m
2025-02-26T21:39:09.1790009Z     [31m[1m>[22m[39m[90m 202 |[39m       expect(manager[33m.[39munlockAchievement([32m'achievement1'[39m))[33m.[39mtoBe([36mfalse[39m)[33m;[39m
2025-02-26T21:39:09.1815710Z      [90m     |[39m                                                         [31m[1m^[22m[39m
2025-02-26T21:39:09.1816798Z      [90m 203 |[39m       expect(unlockAchievement)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
2025-02-26T21:39:09.1817651Z      [90m 204 |[39m     })[33m;[39m
2025-02-26T21:39:09.1818205Z      [90m 205 |[39m   })[33m;[39m[0m
2025-02-26T21:39:09.1818515Z 
2025-02-26T21:39:09.1819026Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:202:57)
2025-02-26T21:39:09.1819603Z 
2025-02-26T21:39:09.1820386Z   ● ProgressionManager › checkStageAdvancement › should advance to the next stage when requirements are met
2025-02-26T21:39:09.1821307Z 
2025-02-26T21:39:09.1821610Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:09.1822005Z 
2025-02-26T21:39:09.1822143Z     Expected: true
2025-02-26T21:39:09.1822476Z     Received: false
2025-02-26T21:39:09.1822680Z 
2025-02-26T21:39:09.1822948Z     [0m [90m 230 |[39m       
2025-02-26T21:39:09.1823566Z      [90m 231 |[39m       [90m// Check stage advancement[39m
2025-02-26T21:39:09.1824776Z     [31m[1m>[22m[39m[90m 232 |[39m       expect(manager[33m.[39mcheckStageAdvancement())[33m.[39mtoBe([36mtrue[39m)[33m;[39m
2025-02-26T21:39:09.1826309Z      [90m     |[39m                                               [31m[1m^[22m[39m
2025-02-26T21:39:09.1827200Z      [90m 233 |[39m       expect(advanceGameStage)[33m.[39mtoHaveBeenCalledWith({
2025-02-26T21:39:09.1828483Z      [90m 234 |[39m         stage[33m:[39m [33mGameStage[39m[33m.[39m[33mMID[39m[33m,[39m
2025-02-26T21:39:09.1829334Z      [90m 235 |[39m         reachedAt[33m:[39m [35m1000[39m[0m
2025-02-26T21:39:09.1829694Z 
2025-02-26T21:39:09.1830185Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:232:47)
2025-02-26T21:39:09.1830730Z 
2025-02-26T21:39:09.4447189Z PASS src/core/GameLoop.test.ts
2025-02-26T21:39:09.4634853Z   ● Console
2025-02-26T21:39:09.4636531Z 
2025-02-26T21:39:09.4637968Z     console.log
2025-02-26T21:39:09.4644032Z       GameLoop: Registered handler, total: 1
2025-02-26T21:39:09.4644417Z 
2025-02-26T21:39:09.4644815Z       at GameLoop.log [as registerHandler] (src/core/GameLoop.ts:290:17)
2025-02-26T21:39:09.4645333Z 
2025-02-26T21:39:09.4645471Z     console.log
2025-02-26T21:39:09.4645900Z       GameLoop: Started with tick rate 1Hz
2025-02-26T21:39:09.4646238Z 
2025-02-26T21:39:09.4646587Z       at GameLoop.log [as start] (src/core/GameLoop.ts:119:15)
2025-02-26T21:39:09.4647003Z 
2025-02-26T21:39:09.4647132Z     console.log
2025-02-26T21:39:09.4647701Z       Warning not called, but this is acceptable in the mock environment
2025-02-26T21:39:09.4648166Z 
2025-02-26T21:39:09.4648499Z       at Object.<anonymous> (src/core/GameLoop.test.ts:309:15)
2025-02-26T21:39:09.4648891Z 
2025-02-26T21:39:09.4649028Z     console.log
2025-02-26T21:39:09.4649448Z       GameLoop: Stopped after 2 ticks and 1 frames
2025-02-26T21:39:09.4649802Z 
2025-02-26T21:39:09.4650103Z       at GameLoop.log [as stop] (src/core/GameLoop.ts:137:15)
2025-02-26T21:39:09.4650494Z 
2025-02-26T21:39:09.4650618Z     console.log
2025-02-26T21:39:09.4651292Z       GameLoop: Unregistered handler, remaining: 0
2025-02-26T21:39:09.4651668Z 
2025-02-26T21:39:09.4652073Z       at GameLoop.log [as unregisterHandler] (src/core/GameLoop.ts:307:17)
2025-02-26T21:39:09.4652543Z 
2025-02-26T21:39:10.0382645Z FAIL src/utils/resourceUtils.test.ts
2025-02-26T21:39:10.0383927Z   ● resourceUtils › safeGetResource › should handle null inputs gracefully
2025-02-26T21:39:10.0384489Z 
2025-02-26T21:39:10.0384777Z     expect(received).toEqual(expected) // deep equality
2025-02-26T21:39:10.0385167Z 
2025-02-26T21:39:10.0385311Z     - Expected  - 2
2025-02-26T21:39:10.0385665Z     + Received  + 9
2025-02-26T21:39:10.0385862Z 
2025-02-26T21:39:10.0386009Z     - ObjectContaining {
2025-02-26T21:39:10.0386374Z     -   "id": "",
2025-02-26T21:39:10.0386690Z     + Object {
2025-02-26T21:39:10.0386997Z     +   "amount": 0,
2025-02-26T21:39:10.0387385Z     +   "category": "unknown",
2025-02-26T21:39:10.0387902Z     +   "description": "This resource does not exist.",
2025-02-26T21:39:10.0388435Z     +   "id": "null-resource",
2025-02-26T21:39:10.0388855Z     +   "maxAmount": 0,
2025-02-26T21:39:10.0389261Z     +   "name": "Unknown Resource",
2025-02-26T21:39:10.0389697Z     +   "perSecond": 0,
2025-02-26T21:39:10.0390063Z     +   "unlocked": false,
2025-02-26T21:39:10.0390427Z       }
2025-02-26T21:39:10.0390582Z 
2025-02-26T21:39:10.0391354Z     [0m [90m 124 |[39m       [90m// @ts-ignore - testing invalid input[39m
2025-02-26T21:39:10.0392972Z      [90m 125 |[39m       [36mconst[39m result [33m=[39m safeGetResource([36mnull[39m[33m,[39m [36mnull[39m)[33m;[39m
2025-02-26T21:39:10.0394401Z     [31m[1m>[22m[39m[90m 126 |[39m       expect(result)[33m.[39mtoEqual(expect[33m.[39mobjectContaining({
2025-02-26T21:39:10.0395330Z      [90m     |[39m                      [31m[1m^[22m[39m
2025-02-26T21:39:10.0396080Z      [90m 127 |[39m         id[33m:[39m [32m''[39m
2025-02-26T21:39:10.0396935Z      [90m 128 |[39m       }))[33m;[39m
2025-02-26T21:39:10.0397607Z      [90m 129 |[39m     })[33m;[39m[0m
2025-02-26T21:39:10.0414654Z 
2025-02-26T21:39:10.0423362Z       at Object.<anonymous> (src/utils/resourceUtils.test.ts:126:22)
2025-02-26T21:39:10.0425675Z 
2025-02-26T21:39:10.4481099Z FAIL src/state/tasksSlice.test.ts
2025-02-26T21:39:10.4506864Z   ● tasksSlice › should handle completeTask for non-repeatable task
2025-02-26T21:39:10.4507386Z 
2025-02-26T21:39:10.4507857Z     TypeError: Cannot assign to read only property 'repeatable' of object '#<Object>'
2025-02-26T21:39:10.4508403Z 
2025-02-26T21:39:10.4508931Z     [0m [90m 115 |[39m     [90m// Make it non-repeatable for testing if needed[39m
2025-02-26T21:39:10.4510003Z      [90m 116 |[39m     [36mif[39m (state[33m.[39mtasks[nonRepeatableTaskId][33m.[39mrepeatable) {
2025-02-26T21:39:10.4511621Z     [31m[1m>[22m[39m[90m 117 |[39m       state[33m.[39mtasks[nonRepeatableTaskId][33m.[39mrepeatable [33m=[39m [36mfalse[39m[33m;[39m
2025-02-26T21:39:10.4512778Z      [90m     |[39m                                                  [31m[1m^[22m[39m
2025-02-26T21:39:10.4513385Z      [90m 118 |[39m     }
2025-02-26T21:39:10.4513851Z      [90m 119 |[39m     
2025-02-26T21:39:10.4514857Z      [90m 120 |[39m     state [33m=[39m tasksReducer(state[33m,[39m unlockTask(nonRepeatableTaskId))[33m;[39m[0m
2025-02-26T21:39:10.4515522Z 
2025-02-26T21:39:10.4515867Z       at Object.<anonymous> (src/state/tasksSlice.test.ts:117:50)
2025-02-26T21:39:10.4516302Z 
2025-02-26T21:39:10.4516776Z   ● tasksSlice › should handle completeTask for repeatable task
2025-02-26T21:39:10.4517233Z 
2025-02-26T21:39:10.4517708Z     TypeError: Cannot assign to read only property 'repeatable' of object '#<Object>'
2025-02-26T21:39:10.4518262Z 
2025-02-26T21:39:10.4518529Z     [0m [90m 145 |[39m     
2025-02-26T21:39:10.4519259Z      [90m 146 |[39m     [90m// Make it repeatable for testing if needed[39m
2025-02-26T21:39:10.4520565Z     [31m[1m>[22m[39m[90m 147 |[39m     state[33m.[39mtasks[repeatableTaskId][33m.[39mrepeatable [33m=[39m [36mtrue[39m[33m;[39m
2025-02-26T21:39:10.4521912Z      [90m     |[39m                                             [31m[1m^[22m[39m
2025-02-26T21:39:10.4522465Z      [90m 148 |[39m     
2025-02-26T21:39:10.4523378Z      [90m 149 |[39m     state [33m=[39m tasksReducer(state[33m,[39m unlockTask(repeatableTaskId))[33m;[39m
2025-02-26T21:39:10.4524480Z      [90m 150 |[39m     state [33m=[39m tasksReducer(state[33m,[39m startTask({[0m
2025-02-26T21:39:10.4525215Z 
2025-02-26T21:39:10.4525866Z       at Object.<anonymous> (src/state/tasksSlice.test.ts:147:45)
2025-02-26T21:39:10.4526318Z 
2025-02-26T21:39:10.4526653Z   ● tasksSlice › should handle resetTask
2025-02-26T21:39:10.4526983Z 
2025-02-26T21:39:10.4527453Z     TypeError: Cannot assign to read only property 'repeatable' of object '#<Object>'
2025-02-26T21:39:10.4528008Z 
2025-02-26T21:39:10.4528812Z     [0m [90m 190 |[39m     [36mlet[39m state [33m=[39m tasksReducer(initialState[33m,[39m initializeTasks())[33m;[39m
2025-02-26T21:39:10.4530321Z      [90m 191 |[39m     [36mconst[39m taskId [33m=[39m [33mObject[39m[33m.[39mkeys(state[33m.[39mtasks)[[35m0[39m][33m;[39m
2025-02-26T21:39:10.4532262Z     [31m[1m>[22m[39m[90m 192 |[39m     state[33m.[39mtasks[taskId][33m.[39mrepeatable [33m=[39m [36mtrue[39m[33m;[39m [90m// Make sure it's repeatable[39m
2025-02-26T21:39:10.4533410Z      [90m     |[39m                                   [31m[1m^[22m[39m
2025-02-26T21:39:10.4533949Z      [90m 193 |[39m     
2025-02-26T21:39:10.4534793Z      [90m 194 |[39m     state [33m=[39m tasksReducer(state[33m,[39m unlockTask(taskId))[33m;[39m
2025-02-26T21:39:10.4535823Z      [90m 195 |[39m     state [33m=[39m tasksReducer(state[33m,[39m startTask({[0m
2025-02-26T21:39:10.4536296Z 
2025-02-26T21:39:10.4536626Z       at Object.<anonymous> (src/state/tasksSlice.test.ts:192:35)
2025-02-26T21:39:10.4537038Z 
2025-02-26T21:39:10.5215762Z PASS src/integration/tasks.integration.test.ts
2025-02-26T21:39:10.6174298Z   ● Console
2025-02-26T21:39:10.6175062Z 
2025-02-26T21:39:10.6175528Z     console.log
2025-02-26T21:39:10.6181482Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6182385Z 
2025-02-26T21:39:10.6183652Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6184448Z 
2025-02-26T21:39:10.6184681Z     console.log
2025-02-26T21:39:10.6185214Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6185665Z 
2025-02-26T21:39:10.6186260Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6186952Z 
2025-02-26T21:39:10.6187208Z     console.log
2025-02-26T21:39:10.6187757Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6188217Z 
2025-02-26T21:39:10.6188813Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6189505Z 
2025-02-26T21:39:10.6189753Z     console.warn
2025-02-26T21:39:10.6190317Z       Another task is already in progress
2025-02-26T21:39:10.6190766Z 
2025-02-26T21:39:10.6191741Z     [0m [90m 230 |[39m       [90m// Check if another task is already in progress[39m
2025-02-26T21:39:10.6193141Z      [90m 231 |[39m       [36mif[39m (state[33m.[39mtasks[33m.[39mactiveTaskId [33m!==[39m [36mnull[39m) {
2025-02-26T21:39:10.6194674Z     [31m[1m>[22m[39m[90m 232 |[39m         console[33m.[39mwarn([32m'Another task is already in progress'[39m)[33m;[39m
2025-02-26T21:39:10.6195746Z      [90m     |[39m                 [31m[1m^[22m[39m
2025-02-26T21:39:10.6196569Z      [90m 233 |[39m         [36mreturn[39m [36mfalse[39m[33m;[39m
2025-02-26T21:39:10.6197244Z      [90m 234 |[39m       }
2025-02-26T21:39:10.6197831Z      [90m 235 |[39m       [0m
2025-02-26T21:39:10.6198177Z 
2025-02-26T21:39:10.6198672Z       at TaskManager.warn [as startTask] (src/managers/TaskManager.ts:232:17)
2025-02-26T21:39:10.6199662Z       at Object.<anonymous> (src/integration/tasks.integration.test.ts:168:32)
2025-02-26T21:39:10.6200250Z 
2025-02-26T21:39:10.6200471Z     console.log
2025-02-26T21:39:10.6201154Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6201580Z 
2025-02-26T21:39:10.6202138Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6202800Z 
2025-02-26T21:39:10.6203021Z     console.warn
2025-02-26T21:39:10.6203490Z       Cannot afford task test-task
2025-02-26T21:39:10.6203868Z 
2025-02-26T21:39:10.6204333Z     [0m [90m 248 |[39m       [90m// Check resources[39m
2025-02-26T21:39:10.6205338Z      [90m 249 |[39m       [36mif[39m ([33m![39m[36mthis[39m[33m.[39mcanAffordTask(taskId)) {
2025-02-26T21:39:10.6206614Z     [31m[1m>[22m[39m[90m 250 |[39m         console[33m.[39mwarn([32m`Cannot afford task ${taskId}`[39m)[33m;[39m
2025-02-26T21:39:10.6207629Z      [90m     |[39m                 [31m[1m^[22m[39m
2025-02-26T21:39:10.6208456Z      [90m 251 |[39m         [36mreturn[39m [36mfalse[39m[33m;[39m
2025-02-26T21:39:10.6209133Z      [90m 252 |[39m       }
2025-02-26T21:39:10.6209711Z      [90m 253 |[39m       [0m
2025-02-26T21:39:10.6211215Z 
2025-02-26T21:39:10.6211672Z       at TaskManager.warn [as startTask] (src/managers/TaskManager.ts:250:17)
2025-02-26T21:39:10.6212599Z       at Object.<anonymous> (src/integration/tasks.integration.test.ts:178:32)
2025-02-26T21:39:10.6213097Z 
2025-02-26T21:39:10.6213223Z     console.log
2025-02-26T21:39:10.6213642Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6213966Z 
2025-02-26T21:39:10.6214439Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6214953Z 
2025-02-26T21:39:10.6215080Z     console.log
2025-02-26T21:39:10.6215474Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6215791Z 
2025-02-26T21:39:10.6216240Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6217034Z 
2025-02-26T21:39:10.6217167Z     console.warn
2025-02-26T21:39:10.6217585Z       Requirements not met for task locked-task
2025-02-26T21:39:10.6217922Z 
2025-02-26T21:39:10.6218219Z     [0m [90m 379 |[39m       
2025-02-26T21:39:10.6219272Z      [90m 380 |[39m       [36mif[39m ([33m![39m[36mthis[39m[33m.[39mcheckRequirements(task)) {
2025-02-26T21:39:10.6220545Z     [31m[1m>[22m[39m[90m 381 |[39m         console[33m.[39mwarn([32m`Requirements not met for task ${taskId}`[39m)[33m;[39m
2025-02-26T21:39:10.6221655Z      [90m     |[39m                 [31m[1m^[22m[39m
2025-02-26T21:39:10.6222324Z      [90m 382 |[39m         [36mreturn[39m [36mfalse[39m[33m;[39m
2025-02-26T21:39:10.6222879Z      [90m 383 |[39m       }
2025-02-26T21:39:10.6223366Z      [90m 384 |[39m       [0m
2025-02-26T21:39:10.6223609Z 
2025-02-26T21:39:10.6224024Z       at TaskManager.warn [as unlockTask] (src/managers/TaskManager.ts:381:17)
2025-02-26T21:39:10.6224888Z       at Object.<anonymous> (src/integration/tasks.integration.test.ts:203:32)
2025-02-26T21:39:10.6225384Z 
2025-02-26T21:39:10.6225517Z     console.log
2025-02-26T21:39:10.6225922Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6226257Z 
2025-02-26T21:39:10.6226712Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6227238Z 
2025-02-26T21:39:10.6227370Z     console.log
2025-02-26T21:39:10.6227776Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6228107Z 
2025-02-26T21:39:10.6228567Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6229160Z 
2025-02-26T21:39:10.6229303Z     console.warn
2025-02-26T21:39:10.6229784Z       Task test-task is not in progress (status: available)
2025-02-26T21:39:10.6230166Z 
2025-02-26T21:39:10.6230439Z     [0m [90m 289 |[39m       
2025-02-26T21:39:10.6231647Z      [90m 290 |[39m       [36mif[39m (task[33m.[39mstatus [33m!==[39m [33mTaskStatus[39m[33m.[39m[33mIN_PROGRESS[39m) {
2025-02-26T21:39:10.6233194Z     [31m[1m>[22m[39m[90m 291 |[39m         console[33m.[39mwarn([32m`Task ${taskId} is not in progress (status: ${task.status})`[39m)[33m;[39m
2025-02-26T21:39:10.6234207Z      [90m     |[39m                 [31m[1m^[22m[39m
2025-02-26T21:39:10.6234917Z      [90m 292 |[39m         [36mreturn[39m [36mfalse[39m[33m;[39m
2025-02-26T21:39:10.6235478Z      [90m 293 |[39m       }
2025-02-26T21:39:10.6235928Z      [90m 294 |[39m       [0m
2025-02-26T21:39:10.6236183Z 
2025-02-26T21:39:10.6236598Z       at TaskManager.warn [as completeTask] (src/managers/TaskManager.ts:291:17)
2025-02-26T21:39:10.6237483Z       at Object.<anonymous> (src/integration/tasks.integration.test.ts:229:32)
2025-02-26T21:39:10.6237974Z 
2025-02-26T21:39:10.6238105Z     console.log
2025-02-26T21:39:10.6238513Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6238832Z 
2025-02-26T21:39:10.6239304Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6239852Z 
2025-02-26T21:39:10.6239991Z     console.log
2025-02-26T21:39:10.6240393Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6240717Z 
2025-02-26T21:39:10.6241339Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6241851Z 
2025-02-26T21:39:10.6241973Z     console.log
2025-02-26T21:39:10.6242395Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6242720Z 
2025-02-26T21:39:10.6243181Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6243710Z 
2025-02-26T21:39:10.6243847Z     console.log
2025-02-26T21:39:10.6244281Z       TaskManager: Registered with new GameLoop
2025-02-26T21:39:10.6244603Z 
2025-02-26T21:39:10.6245050Z       at TaskManager.log [as registerWithGameLoop] (src/managers/TaskManager.ts:80:15)
2025-02-26T21:39:10.6245581Z 
2025-02-26T21:39:11.2802550Z FAIL src/utils/__tests__/saveUtils.test.ts
2025-02-26T21:39:11.2803600Z   ● Test suite failed to run
2025-02-26T21:39:11.2803887Z 
2025-02-26T21:39:11.2806437Z     [96msrc/utils/__tests__/saveUtils.test.ts[0m:[93m43[0m:[93m3[0m - [91merror[0m[90m TS2739: [0mType '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: true; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:11.2808620Z 
2025-02-26T21:39:11.2808886Z     [7m43[0m   game: {
2025-02-26T21:39:11.2809388Z     [7m  [0m [91m  ~~~~[0m
2025-02-26T21:39:11.2809651Z 
2025-02-26T21:39:11.2810023Z       [96msrc/state/store.ts[0m:[93m51[0m:[93m3[0m
2025-02-26T21:39:11.2810726Z         [7m51[0m   game: ReturnType<typeof gameReducer>,
2025-02-26T21:39:11.2815375Z         [7m  [0m [96m  ~~~~[0m
2025-02-26T21:39:11.2816244Z         The expected type comes from property 'game' which is declared here on type 'Partial<RootState>'
2025-02-26T21:39:11.2816929Z 
2025-02-26T21:39:11.4636074Z FAIL src/managers/TaskManager.test.ts
2025-02-26T21:39:11.4643054Z   ● Test suite failed to run
2025-02-26T21:39:11.4643384Z 
2025-02-26T21:39:11.4643798Z     ReferenceError: Cannot access 'task_1' before initialization
2025-02-26T21:39:11.4644249Z 
2025-02-26T21:39:11.4644741Z     [0m [90m 15 |[39m             name[33m:[39m [32m'Test Task'[39m[33m,[39m
2025-02-26T21:39:11.4645623Z      [90m 16 |[39m             description[33m:[39m [32m'A test task'[39m[33m,[39m
2025-02-26T21:39:11.4646770Z     [31m[1m>[22m[39m[90m 17 |[39m             category[33m:[39m [33mTaskCategory[39m[33m.[39m[33mORGANIZING[39m[33m,[39m
2025-02-26T21:39:11.4647702Z      [90m    |[39m                       [31m[1m^[22m[39m
2025-02-26T21:39:11.4648442Z      [90m 18 |[39m             duration[33m:[39m [35m60[39m[33m,[39m
2025-02-26T21:39:11.4649518Z      [90m 19 |[39m             cost[33m:[39m { [32m'collective_bargaining_power'[39m[33m:[39m [35m10[39m }[33m,[39m
2025-02-26T21:39:11.4650784Z      [90m 20 |[39m             rewards[33m:[39m { [32m'solidarity'[39m[33m:[39m [35m20[39m }[33m,[39m[0m
2025-02-26T21:39:11.4651504Z 
2025-02-26T21:39:11.4651759Z       at src/managers/TaskManager.test.ts:17:23
2025-02-26T21:39:11.4652388Z       at Object.require (src/managers/TaskManager.ts:1:1)
2025-02-26T21:39:11.4653095Z       at Object.<anonymous> (src/managers/TaskManager.test.ts:1:1)
2025-02-26T21:39:11.4653514Z 
2025-02-26T21:39:11.7841366Z PASS src/systems/__tests__/eventManager.test.ts
2025-02-26T21:39:11.8102741Z   ● Console
2025-02-26T21:39:11.8111913Z 
2025-02-26T21:39:11.8148270Z     console.log
2025-02-26T21:39:11.8149102Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8149742Z 
2025-02-26T21:39:11.8150359Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8151093Z 
2025-02-26T21:39:11.8151528Z     console.log
2025-02-26T21:39:11.8152213Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8152777Z 
2025-02-26T21:39:11.8153432Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8153973Z 
2025-02-26T21:39:11.8154126Z     console.log
2025-02-26T21:39:11.8154865Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8155288Z 
2025-02-26T21:39:11.8155899Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8156602Z 
2025-02-26T21:39:11.8164524Z     console.log
2025-02-26T21:39:11.8165281Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8165890Z 
2025-02-26T21:39:11.8166370Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8166877Z 
2025-02-26T21:39:11.8167031Z     console.log
2025-02-26T21:39:11.8167751Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8168926Z 
2025-02-26T21:39:11.8169403Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8169921Z 
2025-02-26T21:39:11.8170263Z     console.log
2025-02-26T21:39:11.8171317Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8171929Z 
2025-02-26T21:39:11.8172406Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8172915Z 
2025-02-26T21:39:11.8173218Z     console.log
2025-02-26T21:39:11.8173911Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8174516Z 
2025-02-26T21:39:11.8174998Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8175521Z 
2025-02-26T21:39:11.8175919Z     console.log
2025-02-26T21:39:11.8176579Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8177141Z 
2025-02-26T21:39:11.8177642Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8178168Z 
2025-02-26T21:39:11.8178325Z     console.log
2025-02-26T21:39:11.8179028Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8179653Z 
2025-02-26T21:39:11.8180112Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8180810Z 
2025-02-26T21:39:11.8181245Z     console.log
2025-02-26T21:39:11.8181748Z       EventManager initialized and registered with GameLoop
2025-02-26T21:39:11.8182155Z 
2025-02-26T21:39:11.8182560Z       at EventManager.log [as initialize] (src/systems/eventManager.ts:62:13)
2025-02-26T21:39:11.8183068Z 
2025-02-26T21:39:11.8183210Z     console.warn
2025-02-26T21:39:11.8184037Z       Found inconsistency: Event inconsistent-event has ACTIVE status but is not in active list, fixing...
2025-02-26T21:39:11.8184713Z 
2025-02-26T21:39:11.8185895Z     [0m [90m 123 |[39m       [33mObject[39m[33m.[39mvalues(state[33m.[39mevents[33m.[39mavailableEvents)[33m.[39mforEach(event [33m=>[39m {
2025-02-26T21:39:11.8188204Z      [90m 124 |[39m         [36mif[39m (event[33m.[39mstatus [33m===[39m [33mEventStatus[39m[33m.[39m[33mACTIVE[39m [33m&&[39m [33m![39mstate[33m.[39mevents[33m.[39mactiveEvents[33m.[39mincludes(event[33m.[39mid)) {
2025-02-26T21:39:11.8190575Z     [31m[1m>[22m[39m[90m 125 |[39m           console[33m.[39mwarn([32m`Found inconsistency: Event ${event.id} has ACTIVE status but is not in active list, fixing...`[39m)[33m;[39m
2025-02-26T21:39:11.8222466Z      [90m     |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:11.8223299Z      [90m 126 |[39m           [90m// Either add to active list or fix status[39m
2025-02-26T21:39:11.8224318Z      [90m 127 |[39m           [36mthis[39m[33m.[39mstore[33m![39m[33m.[39mdispatch(updateEvent({
2025-02-26T21:39:11.8225265Z      [90m 128 |[39m             id[33m:[39m event[33m.[39mid[33m,[39m[0m
2025-02-26T21:39:11.8225660Z 
2025-02-26T21:39:11.8225921Z       at warn (src/systems/eventManager.ts:125:19)
2025-02-26T21:39:11.8226487Z           at Array.forEach (<anonymous>)
2025-02-26T21:39:11.8227319Z       at EventManager.forEach [as healEventInconsistencies] (src/systems/eventManager.ts:123:51)
2025-02-26T21:39:11.8228356Z       at Object.<anonymous> (src/systems/__tests__/eventManager.test.ts:297:18)
2025-02-26T21:39:11.8228857Z 
2025-02-26T21:39:11.9220430Z PASS src/state/middleware/taskMiddleware.test.ts
2025-02-26T21:39:12.3839642Z FAIL src/systems/__tests__/gameLoop.test.ts
2025-02-26T21:39:12.3841471Z   ● Test suite failed to run
2025-02-26T21:39:12.3851431Z 
2025-02-26T21:39:12.3858841Z     [96msrc/systems/__tests__/gameLoop.test.ts[0m:[93m73[0m:[93m25[0m - [91merror[0m[90m TS2345: [0mArgument of type 'EnhancedStore<{ resources: ResourcesState; game: GameState; structures: StructuresState; }, UnknownAction, Tuple<[StoreEnhancer<{ dispatch: ThunkDispatch<{ ...; }, undefined, UnknownAction>; }>, StoreEnhancer]>>' is not assignable to parameter of type 'Store<RootState, UnknownAction, unknown>'.
2025-02-26T21:39:12.3862646Z       The types returned by 'getState()' are incompatible between these types.
2025-02-26T21:39:12.3865144Z         Type '{ resources: ResourcesState; game: GameState; structures: StructuresState; }' is missing the following properties from type 'RootState': tasks, events, progression
2025-02-26T21:39:12.3866401Z 
2025-02-26T21:39:12.3866760Z     [7m73[0m     gameLoop.initialize(store);
2025-02-26T21:39:12.3867352Z     [7m  [0m [91m                        ~~~~~[0m
2025-02-26T21:39:12.3867663Z 
2025-02-26T21:39:12.5572485Z FAIL src/core/GameManager.test.ts
2025-02-26T21:39:12.5652705Z   ● Test suite failed to run
2025-02-26T21:39:12.5691987Z 
2025-02-26T21:39:12.5757197Z     [96msrc/core/GameManager.test.ts[0m:[93m105[0m:[93m25[0m - [91merror[0m[90m TS2352: [0mConversion of type 'ActionCreatorWithPayload<number, "game/addPlayTime">' to type 'Mock<any, any, any>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
2025-02-26T21:39:12.5760378Z       Type 'ActionCreatorWithPayload<number, "game/addPlayTime">' is missing the following properties from type 'Mock<any, any, any>': getMockName, mock, mockClear, mockReset, and 13 more.
2025-02-26T21:39:12.5761701Z 
2025-02-26T21:39:12.5762284Z     [7m105[0m     const timerDelta = (addPlayTime as jest.Mock).mock.calls[0][0];
2025-02-26T21:39:12.5763104Z     [7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:12.5763453Z 
2025-02-26T21:39:12.8520810Z FAIL src/gameCore.integration.test.tsx
2025-02-26T21:39:12.8522137Z   ● Test suite failed to run
2025-02-26T21:39:12.8522430Z 
2025-02-26T21:39:12.8525032Z     [96msrc/gameCore.integration.test.tsx[0m:[93m29[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'Reducer<GameState>' is not assignable to type 'Reducer<GameState, UnknownAction, { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; ... 4 more ...; startDate: number; }>'.
2025-02-26T21:39:12.8527464Z       Types of parameters 'state' and 'state' are incompatible.
2025-02-26T21:39:12.8530126Z         Type 'GameState | { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; } | undefined' is not assignable to type 'GameState | undefined'.
2025-02-26T21:39:12.8534892Z           Type '{ gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:12.8537113Z 
2025-02-26T21:39:12.8537506Z     [7m29[0m         game: gameReducer,
2025-02-26T21:39:12.8538068Z     [7m  [0m [91m        ~~~~[0m
2025-02-26T21:39:12.8538355Z 
2025-02-26T21:39:13.0015924Z PASS src/core/GameTimer.test.ts
2025-02-26T21:39:13.2906228Z PASS src/tests/gameSystemCoherenceTest.test.ts
2025-02-26T21:39:13.3812329Z FAIL src/workers.integration.test.tsx
2025-02-26T21:39:13.3817438Z   ● Test suite failed to run
2025-02-26T21:39:13.3821890Z 
2025-02-26T21:39:13.3828608Z     [96msrc/workers.integration.test.tsx[0m:[93m29[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'Reducer<GameState>' is not assignable to type 'Reducer<GameState, UnknownAction, { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; ... 4 more ...; startDate: number; }>'.
2025-02-26T21:39:13.3835261Z       Types of parameters 'state' and 'state' are incompatible.
2025-02-26T21:39:13.3841640Z         Type 'GameState | { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; } | undefined' is not assignable to type 'GameState | undefined'.
2025-02-26T21:39:13.3848554Z           Type '{ gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:13.3858451Z 
2025-02-26T21:39:13.3860703Z     [7m29[0m         game: gameReducer,
2025-02-26T21:39:13.3863299Z     [7m  [0m [91m        ~~~~[0m
2025-02-26T21:39:13.3865309Z 
2025-02-26T21:39:13.8972589Z FAIL src/systems/gameLoop.test.ts
2025-02-26T21:39:13.8974622Z   ● Test suite failed to run
2025-02-26T21:39:13.8976041Z 
2025-02-26T21:39:13.8978466Z     [96msrc/systems/gameLoop.test.ts[0m:[93m86[0m:[93m55[0m - [91merror[0m[90m TS2345: [0mArgument of type 'number' is not assignable to parameter of type 'Timeout'.
2025-02-26T21:39:13.8980705Z 
2025-02-26T21:39:13.8982888Z     [7m86[0m     jest.spyOn(window, 'setInterval').mockReturnValue(123 as unknown as number);
2025-02-26T21:39:13.8985272Z     [7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:13.8988026Z     [96msrc/systems/gameLoop.test.ts[0m:[93m99[0m:[93m55[0m - [91merror[0m[90m TS2345: [0mArgument of type 'number' is not assignable to parameter of type 'Timeout'.
2025-02-26T21:39:13.8990216Z 
2025-02-26T21:39:13.8992430Z     [7m99[0m     jest.spyOn(window, 'setInterval').mockReturnValue(123 as unknown as number);
2025-02-26T21:39:13.8993515Z     [7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:13.8996514Z 
2025-02-26T21:39:13.9085588Z FAIL src/state/selectors.test.ts
2025-02-26T21:39:13.9086812Z   ● Test suite failed to run
2025-02-26T21:39:13.9087251Z 
2025-02-26T21:39:13.9091244Z     [96msrc/state/selectors.test.ts[0m:[93m94[0m:[93m32[0m - [91merror[0m[90m TS2352: [0mConversion of type '{ resources: { 'collective-power': Resource; solidarity: Resource; 'community-trust': Resource; }; structures: { 'union-office': Structure; 'community-center': Structure; 'alternative-media': Structure; }; game: { ...; }; }' to type 'RootState' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
2025-02-26T21:39:13.9095857Z       Type '{ resources: { 'collective-power': Resource; solidarity: Resource; 'community-trust': Resource; }; structures: { 'union-office': Structure; 'community-center': Structure; 'alternative-media': Structure; }; game: { ...; }; }' is missing the following properties from type 'RootState': tasks, events, progression
2025-02-26T21:39:13.9097580Z 
2025-02-26T21:39:13.9097966Z     [7m 94[0m   const mockState: RootState = {
2025-02-26T21:39:13.9098624Z     [7m   [0m [91m                               ~[0m
2025-02-26T21:39:13.9099222Z     [7m 95[0m     resources: {
2025-02-26T21:39:13.9099768Z     [7m   [0m [91m~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:13.9100245Z     [7m...[0m 
2025-02-26T21:39:13.9100616Z     [7m112[0m     },
2025-02-26T21:39:13.9101293Z     [7m   [0m [91m~~~~~~[0m
2025-02-26T21:39:13.9101812Z     [7m113[0m   } as RootState;
2025-02-26T21:39:13.9102353Z     [7m   [0m [91m~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:13.9102639Z 
2025-02-26T21:39:14.5636023Z FAIL src/components/progression/__tests__/ProgressionTracker.test.tsx
2025-02-26T21:39:14.5770034Z   ● Console
2025-02-26T21:39:14.5770329Z 
2025-02-26T21:39:14.5770471Z     console.warn
2025-02-26T21:39:14.5771345Z       An input selector returned a different result when passed same arguments.
2025-02-26T21:39:14.5772303Z       This means your output selector will likely run more frequently than intended.
2025-02-26T21:39:14.5773631Z       Avoid returning a new reference inside your input selector, e.g.
2025-02-26T21:39:14.5774446Z       `createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)` {
2025-02-26T21:39:14.5775678Z         arguments: [Arguments] { '0': { resources: [Object], progression: [Object] } },
2025-02-26T21:39:14.5776481Z         firstInputs: [ [ [Object], [Object] ], [ [Object], [Object] ] ],
2025-02-26T21:39:14.5777216Z         secondInputs: [ [ [Object], [Object] ], [ [Object], [Object] ] ],
2025-02-26T21:39:14.5777752Z         stack: 'Error: \n' +
2025-02-26T21:39:14.5779005Z           '    at Object.runInputStabilityCheck [as run] (/home/runner/work/idle-game/idle-game/node_modules/reselect/src/devModeChecks/inputStabilityCheck.ts:41:13)\n' +
2025-02-26T21:39:14.5780737Z           '    at dependenciesChecker (/home/runner/work/idle-game/idle-game/node_modules/reselect/src/createSelectorCreator.ts:432:31)\n' +
2025-02-26T21:39:14.5782430Z           '    at memoized (/home/runner/work/idle-game/idle-game/node_modules/reselect/src/weakMapMemoize.ts:228:21)\n' +
2025-02-26T21:39:14.5783768Z           '    at memoized (/home/runner/work/idle-game/idle-game/node_modules/react-redux/src/hooks/useSelector.ts:171:28)\n' +
2025-02-26T21:39:14.5785497Z           '    at memoizedSelector (/home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)\n' +
2025-02-26T21:39:14.5787286Z           '    at /home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22\n' +
2025-02-26T21:39:14.5789049Z           '    at mountSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:6214:24)\n' +
2025-02-26T21:39:14.5791083Z           '    at Object.useSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:22810:16)\n' +
2025-02-26T21:39:14.5793070Z           '    at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:1507:34)\n' +
2025-02-26T21:39:14.5796253Z           '    at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)\n' +
2025-02-26T21:39:14.5798440Z           '    at useSelector2 (/home/runner/work/idle-game/idle-game/node_modules/react-redux/src/hooks/useSelector.ts:243:27)\n' +
2025-02-26T21:39:14.5799839Z           '    at ProgressionTracker (/home/runner/work/idle-game/idle-game/src/components/progression/ProgressionTracker.tsx:30:43)\n' +
2025-02-26T21:39:14.5805516Z           '    at Object.react-stack-bottom-frame (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:22428:20)\n' +
2025-02-26T21:39:14.5807260Z           '    at renderWithHooks (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:5757:22)\n' +
2025-02-26T21:39:14.5808909Z           '    at updateFunctionComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:8018:19)\n' +
2025-02-26T21:39:14.5810512Z           '    at beginWork (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:9683:18)\n' +
2025-02-26T21:39:14.5816398Z           '    at runWithFiberInDEV (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:543:16)\n' +
2025-02-26T21:39:14.5818112Z           '    at performUnitOfWork (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:15052:22)\n' +
2025-02-26T21:39:14.5819767Z           '    at workLoopSync (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14870:41)\n' +
2025-02-26T21:39:14.5822024Z           '    at renderRootSync (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14850:11)\n' +
2025-02-26T21:39:14.5824004Z           '    at performWorkOnRoot (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14334:13)\n' +
2025-02-26T21:39:14.5825897Z           '    at performWorkOnRootViaSchedulerTask (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:15931:7)\n' +
2025-02-26T21:39:14.5827587Z           '    at flushActQueue (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:862:34)\n' +
2025-02-26T21:39:14.5829264Z           '    at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:1151:10)\n' +
2025-02-26T21:39:14.5830837Z           '    at /home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/act-compat.js:47:25\n' +
2025-02-26T21:39:14.5833519Z           '    at renderRoot (/home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/pure.js:188:26)\n' +
2025-02-26T21:39:14.5834972Z           '    at render (/home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/pure.js:287:10)\n' +
2025-02-26T21:39:14.5836611Z           '    at Object.<anonymous> (/home/runner/work/idle-game/idle-game/src/components/progression/__tests__/ProgressionTracker.test.tsx:139:11)\n' +
2025-02-26T21:39:14.5838294Z           '    at Promise.then.completed (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/utils.js:298:28)\n' +
2025-02-26T21:39:14.5839292Z           '    at new Promise (<anonymous>)\n' +
2025-02-26T21:39:14.5840345Z           '    at callAsyncCircusFn (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/utils.js:231:10)\n' +
2025-02-26T21:39:14.5842079Z           '    at _callCircusTest (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:316:40)\n' +
2025-02-26T21:39:14.5843249Z           '    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
2025-02-26T21:39:14.5844365Z           '    at _runTest (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:252:3)\n' +
2025-02-26T21:39:14.5845782Z           '    at _runTestsForDescribeBlock (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:126:9)\n' +
2025-02-26T21:39:14.5847277Z           '    at _runTestsForDescribeBlock (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:121:9)\n' +
2025-02-26T21:39:14.5848626Z           '    at run (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:71:3)\n' +
2025-02-26T21:39:14.5850368Z           '    at runAndTransformResultsToJestFormat (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n' +
2025-02-26T21:39:14.5852636Z           '    at jestAdapter (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n' +
2025-02-26T21:39:14.5854270Z           '    at runTestInternal (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/runTest.js:367:16)\n' +
2025-02-26T21:39:14.5855702Z           '    at runTest (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/runTest.js:444:34)\n' +
2025-02-26T21:39:14.5857107Z           '    at Object.worker (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/testWorker.js:106:12)'
2025-02-26T21:39:14.5857971Z       }
2025-02-26T21:39:14.5858163Z 
2025-02-26T21:39:14.5859253Z     [0m [90m 28 |[39m [36mconst[39m [33mProgressionTracker[39m[33m:[39m [33mReact[39m[33m.[39m[33mFC[39m [33m=[39m () [33m=>[39m {
2025-02-26T21:39:14.5860639Z      [90m 29 |[39m   [36mconst[39m currentStage [33m=[39m useSelector(selectCurrentStage)[33m;[39m
2025-02-26T21:39:14.5862753Z     [31m[1m>[22m[39m[90m 30 |[39m   [36mconst[39m completionPercentage [33m=[39m useSelector(selectCompletionPercentage)[33m;[39m
2025-02-26T21:39:14.5864213Z      [90m    |[39m                                           [31m[1m^[22m[39m
2025-02-26T21:39:14.5864803Z      [90m 31 |[39m   
2025-02-26T21:39:14.5865325Z      [90m 32 |[39m   [36mreturn[39m (
2025-02-26T21:39:14.5866268Z      [90m 33 |[39m     [33m<[39m[33mdiv[39m className[33m=[39m[32m"progression-tracker"[39m[33m>[39m[0m
2025-02-26T21:39:14.5866857Z 
2025-02-26T21:39:14.5867567Z       at Object.runInputStabilityCheck [as run] (node_modules/reselect/src/devModeChecks/inputStabilityCheck.ts:46:13)
2025-02-26T21:39:14.5868817Z       at dependenciesChecker (node_modules/reselect/src/createSelectorCreator.ts:432:31)
2025-02-26T21:39:14.5869760Z       at memoized (node_modules/reselect/src/weakMapMemoize.ts:228:21)
2025-02-26T21:39:14.5870604Z       at memoized (node_modules/react-redux/src/hooks/useSelector.ts:171:28)
2025-02-26T21:39:14.5872089Z       at memoizedSelector (node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
2025-02-26T21:39:14.5873588Z       at node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
2025-02-26T21:39:14.5874870Z       at mountSyncExternalStore (node_modules/react-dom/cjs/react-dom-client.development.js:6214:24)
2025-02-26T21:39:14.5876189Z       at Object.useSyncExternalStore (node_modules/react-dom/cjs/react-dom-client.development.js:22810:16)
2025-02-26T21:39:14.5877677Z       at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStore (node_modules/react/cjs/react.development.js:1507:34)
2025-02-26T21:39:14.5879754Z       at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
2025-02-26T21:39:14.5881649Z       at useSelector2 (node_modules/react-redux/src/hooks/useSelector.ts:243:27)
2025-02-26T21:39:14.5882693Z       at ProgressionTracker (src/components/progression/ProgressionTracker.tsx:30:43)
2025-02-26T21:39:14.5883977Z       at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:22428:20)
2025-02-26T21:39:14.5885257Z       at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5757:22)
2025-02-26T21:39:14.5886465Z       at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8018:19)
2025-02-26T21:39:14.5887628Z       at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:9683:18)
2025-02-26T21:39:14.5888728Z       at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
2025-02-26T21:39:14.5889880Z       at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15052:22)
2025-02-26T21:39:14.5891229Z       at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14870:41)
2025-02-26T21:39:14.5892359Z       at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14850:11)
2025-02-26T21:39:14.5893512Z       at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14334:13)
2025-02-26T21:39:14.5894861Z       at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:15931:7)
2025-02-26T21:39:14.5896033Z       at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
2025-02-26T21:39:14.5897134Z       at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
2025-02-26T21:39:14.5898175Z       at node_modules/@testing-library/react/dist/act-compat.js:47:25
2025-02-26T21:39:14.5899022Z       at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
2025-02-26T21:39:14.5899901Z       at render (node_modules/@testing-library/react/dist/pure.js:287:10)
2025-02-26T21:39:14.5920429Z       at Object.<anonymous> (src/components/progression/__tests__/ProgressionTracker.test.tsx:139:11)
2025-02-26T21:39:14.5921389Z 
2025-02-26T21:39:14.5922252Z   ● ProgressionTracker › should render the progression tracker with stage and milestone information
2025-02-26T21:39:14.5923270Z 
2025-02-26T21:39:14.5924762Z     TestingLibraryElementError: Unable to find an element with the text: Progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:14.5926248Z 
2025-02-26T21:39:14.5926496Z     Ignored nodes: comments, script, style
2025-02-26T21:39:14.5927077Z     [36m<body>[39m
2025-02-26T21:39:14.5927479Z       [36m<div>[39m
2025-02-26T21:39:14.5927865Z         [36m<div[39m
2025-02-26T21:39:14.5928453Z           [33mclass[39m=[32m"progression-tracker"[39m
2025-02-26T21:39:14.5929006Z         [36m>[39m
2025-02-26T21:39:14.5929417Z           [36m<h3>[39m
2025-02-26T21:39:14.5929925Z             [0mOverall Progress[0m
2025-02-26T21:39:14.5930396Z           [36m</h3>[39m
2025-02-26T21:39:14.5930780Z           [36m<div[39m
2025-02-26T21:39:14.5931558Z             [33mclass[39m=[32m"stage-indicator"[39m
2025-02-26T21:39:14.5932077Z           [36m>[39m
2025-02-26T21:39:14.5932460Z             [36m<span[39m
2025-02-26T21:39:14.5932976Z               [33mclass[39m=[32m"stage-label"[39m
2025-02-26T21:39:14.5933560Z             [36m>[39m
2025-02-26T21:39:14.5934157Z               [0mCurrent Stage:[0m
2025-02-26T21:39:14.5934755Z             [36m</span>[39m
2025-02-26T21:39:14.5935576Z             [36m<span[39m
2025-02-26T21:39:14.5936268Z               [33mclass[39m=[32m"stage-value"[39m
2025-02-26T21:39:14.5936889Z             [36m>[39m
2025-02-26T21:39:14.5937581Z               [0mEarly Stage[0m
2025-02-26T21:39:14.5938187Z             [36m</span>[39m
2025-02-26T21:39:14.5938753Z           [36m</div>[39m
2025-02-26T21:39:14.5939427Z           [36m<div[39m
2025-02-26T21:39:14.5940146Z             [33mclass[39m=[32m"completion-percentage"[39m
2025-02-26T21:39:14.5940786Z           [36m>[39m
2025-02-26T21:39:14.5941866Z             [36m<span[39m
2025-02-26T21:39:14.5942598Z               [33mclass[39m=[32m"progress-label"[39m
2025-02-26T21:39:14.5943334Z             [36m>[39m
2025-02-26T21:39:14.5943957Z               [0mGame Completion:[0m
2025-02-26T21:39:14.5944591Z             [36m</span>[39m
2025-02-26T21:39:14.5945139Z             [36m<span[39m
2025-02-26T21:39:14.5945834Z               [33mclass[39m=[32m"progress-value"[39m
2025-02-26T21:39:14.5946479Z             [36m>[39m
2025-02-26T21:39:14.5947033Z               [0m50[0m
2025-02-26T21:39:14.5947475Z               [0m%[0m
2025-02-26T21:39:14.6012672Z             [36m</span>[39m
2025-02-26T21:39:14.6013138Z             [36m<div[39m
2025-02-26T21:39:14.6013717Z               [33mclass[39m=[32m"progress-bar"[39m
2025-02-26T21:39:14.6014265Z             [36m>[39m
2025-02-26T21:39:14.6014677Z               [36m<div[39m
2025-02-26T21:39:14.6015258Z                 [33mclass[39m=[32m"progress-bar-fill"[39m
2025-02-26T21:39:14.6015936Z                 [33mstyle[39m=[32m"width: 50%;"[39m
2025-02-26T21:39:14.6016441Z               [36m/>[39m
2025-02-26T21:39:14.6016848Z             [36m</div>[39m
2025-02-26T21:39:14.6017260Z           [36m</div>[39m
2025-02-26T21:39:14.6017647Z         [36m</div>[39m
2025-02-26T21:39:14.6018035Z       [36m</div>[39m
2025-02-26T21:39:14.6018405Z     [36m</body>[39m
2025-02-26T21:39:14.6018617Z 
2025-02-26T21:39:14.6018847Z     [0m [90m 144 |[39m     
2025-02-26T21:39:14.6019490Z      [90m 145 |[39m     [90m// Check that the component renders[39m
2025-02-26T21:39:14.6020709Z     [31m[1m>[22m[39m[90m 146 |[39m     expect(screen[33m.[39mgetByText([32m'Progress'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:14.6046224Z      [90m     |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:14.6047099Z      [90m 147 |[39m     
2025-02-26T21:39:14.6047821Z      [90m 148 |[39m     [90m// Check that stage indicator shows correct stage[39m
2025-02-26T21:39:14.6049296Z      [90m 149 |[39m     expect(screen[33m.[39mgetByText([32m'Current Stage:'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m
2025-02-26T21:39:14.6049979Z 
2025-02-26T21:39:14.6050482Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:14.6051656Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:14.6052467Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:14.6053273Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:14.6054298Z       at Object.<anonymous> (src/components/progression/__tests__/ProgressionTracker.test.tsx:146:19)
2025-02-26T21:39:14.6054967Z 
2025-02-26T21:39:14.8224730Z PASS src/systems/__tests__/oppressionSystem.test.ts
2025-02-26T21:39:14.8240374Z   ● Console
2025-02-26T21:39:14.8315729Z 
2025-02-26T21:39:14.8316002Z     console.log
2025-02-26T21:39:14.8316380Z       Resources before: {
2025-02-26T21:39:14.8316809Z         "collective-power": {
2025-02-26T21:39:14.8317262Z           "id": "collective-power",
2025-02-26T21:39:14.8317750Z           "name": "Collective Power",
2025-02-26T21:39:14.8318159Z           "amount": 0,
2025-02-26T21:39:14.8318497Z           "maxAmount": 1000,
2025-02-26T21:39:14.8318866Z           "perSecond": 0.1,
2025-02-26T21:39:14.8319259Z           "basePerSecond": 0.1,
2025-02-26T21:39:14.8319713Z           "description": "Test power resource",
2025-02-26T21:39:14.8320158Z           "unlocked": true,
2025-02-26T21:39:14.8320564Z           "category": "primary",
2025-02-26T21:39:14.8321152Z           "clickPower": 1
2025-02-26T21:39:14.8321492Z         },
2025-02-26T21:39:14.8321771Z         "oppression": {
2025-02-26T21:39:14.8322112Z           "id": "oppression",
2025-02-26T21:39:14.8322569Z           "name": "Corporate Oppression",
2025-02-26T21:39:14.8322984Z           "amount": 0,
2025-02-26T21:39:14.8323325Z           "maxAmount": 1000,
2025-02-26T21:39:14.8323686Z           "perSecond": 0.05,
2025-02-26T21:39:14.8324101Z           "basePerSecond": 0.05,
2025-02-26T21:39:14.8324597Z           "description": "Test oppression resource",
2025-02-26T21:39:14.8325059Z           "unlocked": true,
2025-02-26T21:39:14.8325465Z           "category": "threat"
2025-02-26T21:39:14.8325819Z         }
2025-02-26T21:39:14.8326096Z       }
2025-02-26T21:39:14.8326265Z 
2025-02-26T21:39:14.8326705Z       at Object.<anonymous> (src/systems/__tests__/oppressionSystem.test.ts:63:13)
2025-02-26T21:39:14.8327234Z 
2025-02-26T21:39:14.8327360Z     console.log
2025-02-26T21:39:14.8327685Z       Resources after: {
2025-02-26T21:39:14.8328062Z         "collective-power": {
2025-02-26T21:39:14.8328502Z           "id": "collective-power",
2025-02-26T21:39:14.8328983Z           "name": "Collective Power",
2025-02-26T21:39:14.8329407Z           "amount": 1,
2025-02-26T21:39:14.8329758Z           "maxAmount": 1000,
2025-02-26T21:39:14.8330142Z           "perSecond": 0.1,
2025-02-26T21:39:14.8330540Z           "basePerSecond": 0.1,
2025-02-26T21:39:14.8331204Z           "description": "Test power resource",
2025-02-26T21:39:14.8331668Z           "unlocked": true,
2025-02-26T21:39:14.8332071Z           "category": "primary",
2025-02-26T21:39:14.8332451Z           "clickPower": 1
2025-02-26T21:39:14.8332771Z         },
2025-02-26T21:39:14.8333057Z         "oppression": {
2025-02-26T21:39:14.8333397Z           "id": "oppression",
2025-02-26T21:39:14.8333827Z           "name": "Corporate Oppression",
2025-02-26T21:39:14.8334247Z           "amount": 0.5,
2025-02-26T21:39:14.8334595Z           "maxAmount": 1000,
2025-02-26T21:39:14.8334972Z           "perSecond": 0.05,
2025-02-26T21:39:14.8335390Z           "basePerSecond": 0.05,
2025-02-26T21:39:14.8335887Z           "description": "Test oppression resource",
2025-02-26T21:39:14.8337469Z           "unlocked": true,
2025-02-26T21:39:14.8337877Z           "category": "threat"
2025-02-26T21:39:14.8338247Z         }
2025-02-26T21:39:14.8338522Z       }
2025-02-26T21:39:14.8339008Z 
2025-02-26T21:39:14.8339671Z       at Object.<anonymous> (src/systems/__tests__/oppressionSystem.test.ts:70:13)
2025-02-26T21:39:14.8340166Z 
2025-02-26T21:39:15.1924283Z PASS src/components/buildings/__tests__/BuildingItem.test.tsx
2025-02-26T21:39:15.2386684Z PASS src/systems/__tests__/gameEndConditions.test.ts
2025-02-26T21:39:15.2837036Z PASS src/utils/__tests__/timeUtils.test.ts
2025-02-26T21:39:15.5743147Z PASS src/state/structuresSlice.test.ts
2025-02-26T21:39:16.4575200Z PASS src/components/ResourceList.test.tsx
2025-02-26T21:39:17.0189614Z FAIL src/components/buildings/__tests__/BuildingList.test.tsx
2025-02-26T21:39:17.0192255Z   ● BuildingList › should render only unlocked buildings
2025-02-26T21:39:17.0192688Z 
2025-02-26T21:39:17.0192935Z     expect(element).not.toBeInTheDocument()
2025-02-26T21:39:17.0193322Z 
2025-02-26T21:39:17.0194015Z     expected document not to contain element, found <strong style="color: rgb(196, 163, 255);">Building 3</strong> instead
2025-02-26T21:39:17.0194756Z 
2025-02-26T21:39:17.0195027Z     [0m [90m 102 |[39m     
2025-02-26T21:39:17.0195702Z      [90m 103 |[39m     [90m// Should not render the locked building[39m
2025-02-26T21:39:17.0197060Z     [31m[1m>[22m[39m[90m 104 |[39m     expect(screen[33m.[39mqueryByText([32m'Building 3'[39m))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:17.0198222Z      [90m     |[39m                                                  [31m[1m^[22m[39m
2025-02-26T21:39:17.0198829Z      [90m 105 |[39m   })[33m;[39m
2025-02-26T21:39:17.0199281Z      [90m 106 |[39m   
2025-02-26T21:39:17.0200246Z      [90m 107 |[39m   it([32m'should render empty state when no buildings are unlocked'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:17.0201111Z 
2025-02-26T21:39:17.0201669Z       at Object.<anonymous> (src/components/buildings/__tests__/BuildingList.test.tsx:104:50)
2025-02-26T21:39:17.0202256Z 
2025-02-26T21:39:17.0206783Z   ● BuildingList › should render empty state when no buildings are unlocked
2025-02-26T21:39:17.0207350Z 
2025-02-26T21:39:17.0208932Z     TestingLibraryElementError: Unable to find an element with the text: No buildings available yet. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:17.0210435Z 
2025-02-26T21:39:17.0210671Z     Ignored nodes: comments, script, style
2025-02-26T21:39:17.0211598Z     [36m<body>[39m
2025-02-26T21:39:17.0211997Z       [36m<div>[39m
2025-02-26T21:39:17.0212375Z         [36m<div[39m
2025-02-26T21:39:17.0213974Z           [33mstyle[39m=[32m"padding: 1rem; border: 1px solid #363030; border-radius: 4px; margin: 1rem 0px; background-color: rgb(39, 37, 45); color: rgb(176, 158, 158); box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);"[39m
2025-02-26T21:39:17.0215265Z         [36m>[39m
2025-02-26T21:39:17.0215637Z           [36m<h2[39m
2025-02-26T21:39:17.0216224Z             [33mstyle[39m=[32m"color: rgb(196, 163, 255);"[39m
2025-02-26T21:39:17.0216769Z           [36m>[39m
2025-02-26T21:39:17.0217151Z             [0mBuildings[0m
2025-02-26T21:39:17.0217637Z           [36m</h2>[39m
2025-02-26T21:39:17.0218049Z           [36m<p>[39m
2025-02-26T21:39:17.0218698Z             [0mThis is a simplified buildings view for debugging.[0m
2025-02-26T21:39:17.0219309Z           [36m</p>[39m
2025-02-26T21:39:17.0219747Z           [36m<div[39m
2025-02-26T21:39:17.0239982Z             [33mstyle[39m=[32m"background-color: rgb(38, 32, 32); padding: 0.5rem; border-radius: 4px; margin-bottom: 1rem; font-size: 0.8rem; font-family: monospace; border: 1px solid #363030;"[39m
2025-02-26T21:39:17.0241513Z           [36m>[39m
2025-02-26T21:39:17.0241939Z             [36m<p>[39m
2025-02-26T21:39:17.0243055Z               [0mInitialization attempted: [0m
2025-02-26T21:39:17.0243613Z               [0mYes[0m
2025-02-26T21:39:17.0244057Z             [36m</p>[39m
2025-02-26T21:39:17.0244494Z             [36m<p>[39m
2025-02-26T21:39:17.0245326Z               [0mStructures state type: [0m
2025-02-26T21:39:17.0245860Z               [0mobject[0m
2025-02-26T21:39:17.0246308Z             [36m</p>[39m
2025-02-26T21:39:17.0246730Z             [36m<p>[39m
2025-02-26T21:39:17.0247239Z               [0mIs structures object: [0m
2025-02-26T21:39:17.0247718Z               [0mYes[0m
2025-02-26T21:39:17.0248138Z             [36m</p>[39m
2025-02-26T21:39:17.0248630Z             [36m<p>[39m
2025-02-26T21:39:17.0249120Z               [0mStructures keys: [0m
2025-02-26T21:39:17.0249666Z               [0m["building1"][0m
2025-02-26T21:39:17.0250115Z             [36m</p>[39m
2025-02-26T21:39:17.0250514Z           [36m</div>[39m
2025-02-26T21:39:17.0251094Z           [36m<div>[39m
2025-02-26T21:39:17.0251661Z             [36m<p>[39m
2025-02-26T21:39:17.0252148Z               [0mBuildings available: [0m
2025-02-26T21:39:17.0252602Z               [0m1[0m
2025-02-26T21:39:17.0252977Z             [36m</p>[39m
2025-02-26T21:39:17.0253391Z             [36m<ul>[39m
2025-02-26T21:39:17.0253785Z               [36m<li[39m
2025-02-26T21:39:17.0254998Z                 [33mstyle[39m=[32m"margin: 0.5rem 0px; padding: 0.5rem; background-color: rgb(38, 32, 32); border-radius: 4px; border: 1px solid #363030;"[39m
2025-02-26T21:39:17.0255959Z               [36m>[39m
2025-02-26T21:39:17.0256410Z                 [36m<strong[39m
2025-02-26T21:39:17.0257062Z                   [33mstyle[39m=[32m"color: rgb(196, 163, 255);"[39m
2025-02-26T21:39:17.0257615Z                 [36m>[39m
2025-02-26T21:39:17.0258092Z                   [0mBuilding 1[0m
2025-02-26T21:39:17.0258601Z                 [36m</strong>[39m
2025-02-26T21:39:17.0259091Z                 [0m(Level: [0m
2025-02-26T21:39:17.0259556Z                 [0m1[0m
2025-02-26T21:39:17.0259974Z                 [0m) -[0m
2025-02-26T21:39:17.0260429Z                 [36m<span[39m
2025-02-26T21:39:17.0261304Z                   [33mstyle[39m=[32m"color: rgb(151, 137, 172);"[39m
2025-02-26T21:39:17.0261908Z                 [36m>[39m
2025-02-26T21:39:17.0262370Z                   [0mLocked[0m
2025-02-26T21:39:17.0262885Z                 [36m</span>[39m
2025-02-26T21:39:17.0263363Z               [36m</li>[39m
2025-02-26T21:39:17.0263827Z             [36m</ul>[39m
2025-02-26T21:39:17.0264259Z           [36m</div>[39m
2025-02-26T21:39:17.0264681Z         [36m</div>[39m
2025-02-26T21:39:17.0265097Z       [36m</div>[39m
2025-02-26T21:39:17.0265490Z     [36m</body>[39m
2025-02-26T21:39:17.0265697Z 
2025-02-26T21:39:17.0265940Z     [0m [90m 132 |[39m     
2025-02-26T21:39:17.0266600Z      [90m 133 |[39m     [90m// Should render the empty state message[39m
2025-02-26T21:39:17.0267964Z     [31m[1m>[22m[39m[90m 134 |[39m     expect(screen[33m.[39mgetByText([32m'No buildings available yet'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:17.0269148Z      [90m     |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:17.0269753Z      [90m 135 |[39m   })[33m;[39m
2025-02-26T21:39:17.0270291Z      [90m 136 |[39m })[33m;[39m[0m
2025-02-26T21:39:17.0270578Z 
2025-02-26T21:39:17.0271446Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:17.0272386Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:17.0273191Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:17.0273986Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:17.0274961Z       at Object.<anonymous> (src/components/buildings/__tests__/BuildingList.test.tsx:134:19)
2025-02-26T21:39:17.0275565Z 
2025-02-26T21:39:17.7513144Z PASS src/components/ResourceDisplay.test.tsx
2025-02-26T21:39:17.9084048Z FAIL src/components/__tests__/GameTimer.test.tsx
2025-02-26T21:39:17.9092824Z   ● GameTimer › should render the game time
2025-02-26T21:39:17.9093203Z 
2025-02-26T21:39:17.9094451Z     TestingLibraryElementError: Unable to find an element with the text: Day 3. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:17.9096025Z 
2025-02-26T21:39:17.9141699Z     Ignored nodes: comments, script, style
2025-02-26T21:39:17.9142347Z     [36m<body>[39m
2025-02-26T21:39:17.9142731Z       [36m<div>[39m
2025-02-26T21:39:17.9143106Z         [36m<div[39m
2025-02-26T21:39:17.9143608Z           [33mclass[39m=[32m"game-timer "[39m
2025-02-26T21:39:17.9144113Z         [36m>[39m
2025-02-26T21:39:17.9144468Z           [36m<div[39m
2025-02-26T21:39:17.9144961Z             [33mclass[39m=[32m"counter "[39m
2025-02-26T21:39:17.9145450Z           [36m>[39m
2025-02-26T21:39:17.9145865Z             [36m<div[39m
2025-02-26T21:39:17.9146376Z               [33mclass[39m=[32m"counter-container"[39m
2025-02-26T21:39:17.9146854Z             [36m>[39m
2025-02-26T21:39:17.9147267Z               [36m<div[39m
2025-02-26T21:39:17.9147821Z                 [33mclass[39m=[32m"counter-display"[39m
2025-02-26T21:39:17.9148327Z               [36m>[39m
2025-02-26T21:39:17.9148755Z                 [36m<span[39m
2025-02-26T21:39:17.9149318Z                   [33mclass[39m=[32m"counter-icon day"[39m
2025-02-26T21:39:17.9155555Z                   [33mtitle[39m=[32m"day"[39m
2025-02-26T21:39:17.9156106Z                 [36m>[39m
2025-02-26T21:39:17.9156590Z                   [0m☀[0m
2025-02-26T21:39:17.9157099Z                 [36m</span>[39m
2025-02-26T21:39:17.9157624Z                 [36m<span[39m
2025-02-26T21:39:17.9158239Z                   [33mclass[39m=[32m"counter-value"[39m
2025-02-26T21:39:17.9158792Z                 [36m>[39m
2025-02-26T21:39:17.9159288Z                   [0mDay 1[0m
2025-02-26T21:39:17.9159792Z                 [36m</span>[39m
2025-02-26T21:39:17.9160280Z                 [36m<span[39m
2025-02-26T21:39:17.9161362Z                   [33mclass[39m=[32m"counter-rate neutral dropdown-trigger"[39m
2025-02-26T21:39:17.9162192Z                   [33mtitle[39m=[32m"Click for options"[39m
2025-02-26T21:39:17.9162675Z                 [36m>[39m
2025-02-26T21:39:17.9163064Z                   [0m1x[0m
2025-02-26T21:39:17.9163524Z                 [36m</span>[39m
2025-02-26T21:39:17.9164031Z               [36m</div>[39m
2025-02-26T21:39:17.9164485Z             [36m</div>[39m
2025-02-26T21:39:17.9164924Z           [36m</div>[39m
2025-02-26T21:39:17.9165343Z         [36m</div>[39m
2025-02-26T21:39:17.9165739Z       [36m</div>[39m
2025-02-26T21:39:17.9166093Z       [36m<div[39m
2025-02-26T21:39:17.9166602Z         [33mid[39m=[32m"dropdown-portal"[39m
2025-02-26T21:39:17.9167101Z       [36m/>[39m
2025-02-26T21:39:17.9167472Z     [36m</body>[39m
2025-02-26T21:39:17.9167675Z 
2025-02-26T21:39:17.9167864Z     [0m [90m 48 |[39m     
2025-02-26T21:39:17.9168781Z      [90m 49 |[39m     [90m// Check the rendered output - Day 3 because 120 seconds / 60 seconds per day = day 3[39m
2025-02-26T21:39:17.9170148Z     [31m[1m>[22m[39m[90m 50 |[39m     expect(screen[33m.[39mgetByText([32m'Day 3'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:17.9171432Z      [90m    |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:17.9172052Z      [90m 51 |[39m   })[33m;[39m
2025-02-26T21:39:17.9172515Z      [90m 52 |[39m   
2025-02-26T21:39:17.9173310Z      [90m 53 |[39m   it([32m'should show time scale when not 1x'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:17.9173804Z 
2025-02-26T21:39:17.9174312Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:17.9175173Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:17.9176426Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:17.9177221Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:17.9178386Z       at Object.<anonymous> (src/components/__tests__/GameTimer.test.tsx:50:19)
2025-02-26T21:39:17.9178920Z 
2025-02-26T21:39:18.6485869Z PASS src/components/ui/__tests__/Dropdown.test.tsx
2025-02-26T21:39:18.6502648Z   ● Console
2025-02-26T21:39:18.6504306Z 
2025-02-26T21:39:18.6505832Z     console.log
2025-02-26T21:39:18.6507465Z       Dropdown styles: {
2025-02-26T21:39:18.6531954Z         backgroundColor: 'rgb(25, 25, 25)',
2025-02-26T21:39:18.6532525Z         border: '1px solid #333',
2025-02-26T21:39:18.6532941Z         padding: '8px'
2025-02-26T21:39:18.6533277Z       }
2025-02-26T21:39:18.6533451Z 
2025-02-26T21:39:18.6533902Z       at Object.<anonymous> (src/components/ui/__tests__/Dropdown.test.tsx:70:15)
2025-02-26T21:39:18.6534441Z 
2025-02-26T21:39:18.7264763Z PASS src/components/progression/__tests__/MilestoneProgressStrip.test.tsx
2025-02-26T21:39:18.8379517Z PASS src/components/ui/__tests__/Modal.test.tsx
2025-02-26T21:39:19.0432884Z PASS src/state/resourcesSlice.test.ts
2025-02-26T21:39:19.5213352Z PASS src/components/resources/__tests__/PassiveUpgradePanel.test.tsx
2025-02-26T21:39:19.6931709Z FAIL src/components/__tests__/OfflineProgressModal.test.tsx
2025-02-26T21:39:19.6954141Z   ● OfflineProgressModal › should call onClose when close button is clicked
2025-02-26T21:39:19.6956559Z 
2025-02-26T21:39:19.6957073Z     expect(jest.fn()).toHaveBeenCalled()
2025-02-26T21:39:19.6961068Z 
2025-02-26T21:39:19.6962799Z     Expected number of calls: >= 1
2025-02-26T21:39:19.6964721Z     Received number of calls:    0
2025-02-26T21:39:19.6966404Z 
2025-02-26T21:39:19.6968062Z     [0m [90m 78 |[39m     
2025-02-26T21:39:19.6970139Z      [90m 79 |[39m     [90m// Check if handleClose was called[39m
2025-02-26T21:39:19.6972880Z     [31m[1m>[22m[39m[90m 80 |[39m     expect(handleClose)[33m.[39mtoHaveBeenCalled()[33m;[39m
2025-02-26T21:39:19.6975221Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:19.6977197Z      [90m 81 |[39m   })[33m;[39m
2025-02-26T21:39:19.6984314Z      [90m 82 |[39m   
2025-02-26T21:39:19.6985244Z      [90m 83 |[39m   it([32m'should not render when isOpen is false'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:19.6985812Z 
2025-02-26T21:39:19.6986320Z       at Object.<anonymous> (src/components/__tests__/OfflineProgressModal.test.tsx:80:25)
2025-02-26T21:39:19.6986906Z 
2025-02-26T21:39:20.0291677Z FAIL src/components/App.test.tsx
2025-02-26T21:39:20.0306976Z   ● Test suite failed to run
2025-02-26T21:39:20.0307304Z 
2025-02-26T21:39:20.0307543Z     ReferenceError: TextEncoder is not defined
2025-02-26T21:39:20.0307876Z 
2025-02-26T21:39:20.0308887Z     [0m [90m 1 |[39m [36mimport[39m [33mReact[39m[33m,[39m { useEffect[33m,[39m useRef[33m,[39m useState } [36mfrom[39m [32m'react'[39m[33m;[39m
2025-02-26T21:39:20.0311223Z     [31m[1m>[22m[39m[90m 2 |[39m [36mimport[39m { [33mBrowserRouter[39m [36mas[39m [33mRouter[39m[33m,[39m [33mRoutes[39m[33m,[39m [33mRoute[39m } [36mfrom[39m [32m'react-router-dom'[39m[33m;[39m
2025-02-26T21:39:20.0312480Z      [90m   |[39m [31m[1m^[22m[39m
2025-02-26T21:39:20.0313598Z      [90m 3 |[39m [36mimport[39m { useAppDispatch[33m,[39m useAppSelector } [36mfrom[39m [32m'../state/hooks'[39m[33m;[39m
2025-02-26T21:39:20.0315821Z      [90m 4 |[39m [36mimport[39m { 
2025-02-26T21:39:20.0317611Z      [90m 5 |[39m   selectAllResources[33m,[39m [0m
2025-02-26T21:39:20.0319096Z 
2025-02-26T21:39:20.0320800Z       at Object.<anonymous> (node_modules/react-router/dist/development/index.js:8510:15)
2025-02-26T21:39:20.0326887Z       at Object.<anonymous> (node_modules/react-router-dom/dist/index.js:39:38)
2025-02-26T21:39:20.0327639Z       at Object.require (src/components/App.tsx:2:1)
2025-02-26T21:39:20.0328720Z       at Object.<anonymous> (src/components/App.test.tsx:8:1)
2025-02-26T21:39:20.0329116Z 
2025-02-26T21:39:20.2495286Z FAIL src/components/GameTimer.test.tsx
2025-02-26T21:39:20.2507065Z   ● GameTimer › renders day counter with correct values
2025-02-26T21:39:20.2508030Z 
2025-02-26T21:39:20.2508286Z     expect(element).toHaveTextContent()
2025-02-26T21:39:20.2508596Z 
2025-02-26T21:39:20.2508814Z     Expected element to have text content:
2025-02-26T21:39:20.2509220Z       Day 3
2025-02-26T21:39:20.2509481Z     Received:
2025-02-26T21:39:20.2509754Z       Day 1
2025-02-26T21:39:20.2509921Z 
2025-02-26T21:39:20.2510517Z     [0m [90m 48 |[39m     [90m// but the test uses a mock store with totalPlayTime: 120,[39m
2025-02-26T21:39:20.2511654Z      [90m 49 |[39m     [90m// so it should still show Day 3 (since 120/60 + 1 = 3)[39m
2025-02-26T21:39:20.2513055Z     [31m[1m>[22m[39m[90m 50 |[39m     expect(screen[33m.[39mgetByTestId([32m'counter-value'[39m))[33m.[39mtoHaveTextContent([32m'Day 3'[39m)[33m;[39m
2025-02-26T21:39:20.2514222Z      [90m    |[39m                                                 [31m[1m^[22m[39m
2025-02-26T21:39:20.2515418Z      [90m 51 |[39m     expect(screen[33m.[39mgetByTestId([32m'counter-rate'[39m))[33m.[39mtoHaveTextContent([32m'1x'[39m)[33m;[39m
2025-02-26T21:39:20.2516373Z      [90m 52 |[39m   })[33m;[39m
2025-02-26T21:39:20.2516772Z      [90m 53 |[39m[0m
2025-02-26T21:39:20.2516964Z 
2025-02-26T21:39:20.2517264Z       at Object.<anonymous> (src/components/GameTimer.test.tsx:50:49)
2025-02-26T21:39:20.2517639Z 
2025-02-26T21:39:20.3852496Z PASS src/components/ui/__tests__/Icon.test.tsx
2025-02-26T21:39:20.7740731Z FAIL src/state/gameSlice.test.ts
2025-02-26T21:39:20.7741932Z   ● Test suite failed to run
2025-02-26T21:39:20.7742205Z 
2025-02-26T21:39:20.7744284Z     [96msrc/state/gameSlice.test.ts[0m:[93m34[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:20.7747173Z       Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:20.7748556Z 
2025-02-26T21:39:20.7749098Z     [7m34[0m     const actual = gameReducer(initialState, setGameStage(1));
2025-02-26T21:39:20.7749907Z     [7m  [0m [91m                               ~~~~~~~~~~~~[0m
2025-02-26T21:39:20.7752626Z     [96msrc/state/gameSlice.test.ts[0m:[93m44[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:20.7755732Z       Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:20.7757163Z 
2025-02-26T21:39:20.7757745Z     [7m44[0m     const actual = gameReducer(initialState, updateLastSaveTime());
2025-02-26T21:39:20.7758603Z     [7m  [0m [91m                               ~~~~~~~~~~~~[0m
2025-02-26T21:39:20.7761326Z     [96msrc/state/gameSlice.test.ts[0m:[93m54[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ totalPlayTime: number; gameStage: number; lastSaveTime: any; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:20.7764449Z       Type '{ totalPlayTime: number; gameStage: number; lastSaveTime: any; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:20.7766365Z 
2025-02-26T21:39:20.7766966Z     [7m54[0m     const actual = gameReducer(startState, addPlayTime(timeToAdd));
2025-02-26T21:39:20.7768133Z     [7m  [0m [91m                               ~~~~~~~~~~[0m
2025-02-26T21:39:20.7770700Z     [96msrc/state/gameSlice.test.ts[0m:[93m60[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:20.7781201Z       Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:20.7782651Z 
2025-02-26T21:39:20.7783353Z     [7m60[0m     const actual = gameReducer(initialState, setTotalPlayTime(newPlayTime));
2025-02-26T21:39:20.7784324Z     [7m  [0m [91m                               ~~~~~~~~~~~~[0m
2025-02-26T21:39:20.7786934Z     [96msrc/state/gameSlice.test.ts[0m:[93m74[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: number; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:20.7790225Z       Type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:20.7791902Z 
2025-02-26T21:39:20.7792427Z     [7m74[0m     const actual = gameReducer(modifiedState, resetGame());
2025-02-26T21:39:20.7793258Z     [7m  [0m [91m                               ~~~~~~~~~~~~~[0m
2025-02-26T21:39:20.7793629Z 
2025-02-26T21:39:20.8387560Z PASS src/components/ui/__tests__/Button.test.tsx
2025-02-26T21:39:20.8576596Z FAIL src/components/resources/__tests__/ResourceDisplay.test.tsx
2025-02-26T21:39:20.8579961Z   ● ResourceDisplay Component › renders resource display with correct information
2025-02-26T21:39:20.8581941Z 
2025-02-26T21:39:20.8612884Z     TestingLibraryElementError: Unable to find an element with the text: Collective Bargaining Power. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:20.8614598Z 
2025-02-26T21:39:20.8618208Z     Ignored nodes: comments, script, style
2025-02-26T21:39:20.8619005Z     [36m<body>[39m
2025-02-26T21:39:20.8619557Z       [36m<div>[39m
2025-02-26T21:39:20.8620097Z         [36m<div[39m
2025-02-26T21:39:20.8620819Z           [33mclass[39m=[32m"resource-display   "[39m
2025-02-26T21:39:20.8621717Z         [36m>[39m
2025-02-26T21:39:20.8622292Z           [36m<div[39m
2025-02-26T21:39:20.8622964Z             [33mclass[39m=[32m"counter "[39m
2025-02-26T21:39:20.8623622Z           [36m>[39m
2025-02-26T21:39:20.8624157Z             [36m<div[39m
2025-02-26T21:39:20.8624914Z               [33mclass[39m=[32m"counter-container"[39m
2025-02-26T21:39:20.8625622Z             [36m>[39m
2025-02-26T21:39:20.8626174Z               [36m<div[39m
2025-02-26T21:39:20.8626930Z                 [33mclass[39m=[32m"counter-display"[39m
2025-02-26T21:39:20.8627647Z               [36m>[39m
2025-02-26T21:39:20.8628256Z                 [36m<div[39m
2025-02-26T21:39:20.8629001Z                   [33maria-hidden[39m=[32m"true"[39m
2025-02-26T21:39:20.8629915Z                   [33mclass[39m=[32m"counter-progress default"[39m
2025-02-26T21:39:20.8630792Z                   [33mstyle[39m=[32m"width: 10%;"[39m
2025-02-26T21:39:20.8631672Z                 [36m/>[39m
2025-02-26T21:39:20.8632307Z                 [36m<span[39m
2025-02-26T21:39:20.8633652Z                   [33mclass[39m=[32m"counter-icon default"[39m
2025-02-26T21:39:20.8634536Z                   [33mtitle[39m=[32m"default"[39m
2025-02-26T21:39:20.8635216Z                 [36m>[39m
2025-02-26T21:39:20.8636165Z                   [0m■[0m
2025-02-26T21:39:20.8636827Z                 [36m</span>[39m
2025-02-26T21:39:20.8637504Z                 [36m<span[39m
2025-02-26T21:39:20.8638265Z                   [33mclass[39m=[32m"counter-value"[39m
2025-02-26T21:39:20.8638995Z                 [36m>[39m
2025-02-26T21:39:20.8639624Z                   [0m100 / 1000[0m
2025-02-26T21:39:20.8640314Z                 [36m</span>[39m
2025-02-26T21:39:20.8641160Z                 [36m<span[39m
2025-02-26T21:39:20.8641962Z                   [33mclass[39m=[32m"counter-rate positive "[39m
2025-02-26T21:39:20.8642722Z                 [36m>[39m
2025-02-26T21:39:20.8643368Z                   [0m+5/sec[0m
2025-02-26T21:39:20.8644002Z                 [36m</span>[39m
2025-02-26T21:39:20.8644676Z               [36m</div>[39m
2025-02-26T21:39:20.8645266Z             [36m</div>[39m
2025-02-26T21:39:20.8645844Z           [36m</div>[39m
2025-02-26T21:39:20.8646433Z         [36m</div>[39m
2025-02-26T21:39:20.8646984Z       [36m</div>[39m
2025-02-26T21:39:20.8647510Z     [36m</body>[39m
2025-02-26T21:39:20.8647871Z 
2025-02-26T21:39:20.8648247Z     [0m [90m 24 |[39m     
2025-02-26T21:39:20.8648972Z      [90m 25 |[39m     [90m// Check if name and amounts are rendered[39m
2025-02-26T21:39:20.8650360Z     [31m[1m>[22m[39m[90m 26 |[39m     expect(screen[33m.[39mgetByText([32m'Collective Bargaining Power'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:20.8651764Z      [90m    |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:20.8652838Z      [90m 27 |[39m     expect(screen[33m.[39mgetByText([32m'100 / 1000'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:20.8654205Z      [90m 28 |[39m     expect(screen[33m.[39mgetByText([32m'+5/sec'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:20.8655085Z      [90m 29 |[39m   })[33m;[39m[0m
2025-02-26T21:39:20.8655367Z 
2025-02-26T21:39:20.8655864Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:20.8656787Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:20.8657858Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:20.8658844Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:20.8659978Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:26:19)
2025-02-26T21:39:20.8660747Z 
2025-02-26T21:39:20.8661708Z   ● ResourceDisplay Component › renders progress bar with correct percentage
2025-02-26T21:39:20.8662279Z 
2025-02-26T21:39:20.8662495Z     expect(received).toHaveStyle()
2025-02-26T21:39:20.8662801Z 
2025-02-26T21:39:20.8663132Z     received value must be an HTMLElement or an SVGElement.
2025-02-26T21:39:20.8663693Z     Received has value: null
2025-02-26T21:39:20.8663962Z 
2025-02-26T21:39:20.8664458Z     [0m [90m 34 |[39m     [90m// Resource is at 10% capacity (100/1000)[39m
2025-02-26T21:39:20.8666038Z      [90m 35 |[39m     [36mconst[39m progressBar [33m=[39m document[33m.[39mquerySelector([32m'.resource-progress-bar'[39m)[33m;[39m
2025-02-26T21:39:20.8667723Z     [31m[1m>[22m[39m[90m 36 |[39m     expect(progressBar)[33m.[39mtoHaveStyle([32m'width: 10%'[39m)[33m;[39m
2025-02-26T21:39:20.8668878Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:20.8669640Z      [90m 37 |[39m   })[33m;[39m
2025-02-26T21:39:20.8670262Z      [90m 38 |[39m   
2025-02-26T21:39:20.8671396Z      [90m 39 |[39m   test([32m'handles empty resource gracefully'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:20.8672137Z 
2025-02-26T21:39:20.8672733Z       at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
2025-02-26T21:39:20.8673964Z       at Object.throwingMatcher [as toHaveStyle] (node_modules/expect/build/index.js:326:15)
2025-02-26T21:39:20.8675027Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:36:25)
2025-02-26T21:39:20.8675789Z 
2025-02-26T21:39:20.8676327Z   ● ResourceDisplay Component › handles empty resource gracefully
2025-02-26T21:39:20.8676764Z 
2025-02-26T21:39:20.8676971Z     expect(received).toHaveStyle()
2025-02-26T21:39:20.8677278Z 
2025-02-26T21:39:20.8677777Z     received value must be an HTMLElement or an SVGElement.
2025-02-26T21:39:20.8678483Z     Received has value: null
2025-02-26T21:39:20.8678852Z 
2025-02-26T21:39:20.8693049Z     [0m [90m 50 |[39m     
2025-02-26T21:39:20.8694832Z      [90m 51 |[39m     [36mconst[39m progressBar [33m=[39m document[33m.[39mquerySelector([32m'.resource-progress-bar'[39m)[33m;[39m
2025-02-26T21:39:20.8696581Z     [31m[1m>[22m[39m[90m 52 |[39m     expect(progressBar)[33m.[39mtoHaveStyle([32m'width: 0%'[39m)[33m;[39m
2025-02-26T21:39:20.8712484Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:20.8713199Z      [90m 53 |[39m   })[33m;[39m
2025-02-26T21:39:20.8713667Z      [90m 54 |[39m   
2025-02-26T21:39:20.8714493Z      [90m 55 |[39m   test([32m'handles max resource correctly'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:20.8715018Z 
2025-02-26T21:39:20.8715427Z       at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
2025-02-26T21:39:20.8716404Z       at Object.throwingMatcher [as toHaveStyle] (node_modules/expect/build/index.js:326:15)
2025-02-26T21:39:20.8717486Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:52:25)
2025-02-26T21:39:20.8718081Z 
2025-02-26T21:39:20.8718516Z   ● ResourceDisplay Component › handles max resource correctly
2025-02-26T21:39:20.8718961Z 
2025-02-26T21:39:20.8719164Z     expect(received).toHaveStyle()
2025-02-26T21:39:20.8719458Z 
2025-02-26T21:39:20.8719753Z     received value must be an HTMLElement or an SVGElement.
2025-02-26T21:39:20.8720257Z     Received has value: null
2025-02-26T21:39:20.8720517Z 
2025-02-26T21:39:20.8720741Z     [0m [90m 64 |[39m     
2025-02-26T21:39:20.8722106Z      [90m 65 |[39m     [36mconst[39m progressBar [33m=[39m document[33m.[39mquerySelector([32m'.resource-progress-bar'[39m)[33m;[39m
2025-02-26T21:39:20.8723548Z     [31m[1m>[22m[39m[90m 66 |[39m     expect(progressBar)[33m.[39mtoHaveStyle([32m'width: 100%'[39m)[33m;[39m
2025-02-26T21:39:20.8724485Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:20.8725059Z      [90m 67 |[39m   })[33m;[39m
2025-02-26T21:39:20.8725502Z      [90m 68 |[39m   
2025-02-26T21:39:20.8726255Z      [90m 69 |[39m   test([32m'applies custom className'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:20.8726805Z 
2025-02-26T21:39:20.8727194Z       at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
2025-02-26T21:39:20.8728124Z       at Object.throwingMatcher [as toHaveStyle] (node_modules/expect/build/index.js:326:15)
2025-02-26T21:39:20.8729255Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:66:25)
2025-02-26T21:39:20.8729874Z 
2025-02-26T21:39:21.4282155Z PASS src/components/ui/__tests__/Card.test.tsx
2025-02-26T21:39:21.5092557Z PASS src/components/workers/__tests__/WorkerOverview.test.tsx
2025-02-26T21:39:21.8306779Z PASS src/index.integration.test.tsx
2025-02-26T21:39:21.8484235Z PASS src/utils/testHelpers.test.ts
2025-02-26T21:39:22.1713072Z FAIL src/structure.test.ts
2025-02-26T21:39:22.1713824Z   ● Project Structure › has the required directories
2025-02-26T21:39:22.1714062Z 
2025-02-26T21:39:22.1714181Z     expect(received).toBeTruthy()
2025-02-26T21:39:22.1714350Z 
2025-02-26T21:39:22.1714430Z     Received: false
2025-02-26T21:39:22.1714551Z 
2025-02-26T21:39:22.1714687Z     [0m [90m 15 |[39m
2025-02-26T21:39:22.1715526Z      [90m 16 |[39m     [36mfor[39m ([36mconst[39m dir [36mof[39m requiredDirs) {
2025-02-26T21:39:22.1716194Z     [31m[1m>[22m[39m[90m 17 |[39m       expect(isDirectory([32m'src'[39m[33m,[39m dir))[33m.[39mtoBeTruthy()[33m;[39m
2025-02-26T21:39:22.1716967Z      [90m    |[39m                                       [31m[1m^[22m[39m
2025-02-26T21:39:22.1717517Z      [90m 18 |[39m     }
2025-02-26T21:39:22.1718023Z      [90m 19 |[39m   })[33m;[39m
2025-02-26T21:39:22.1718512Z      [90m 20 |[39m[0m
2025-02-26T21:39:22.1718745Z 
2025-02-26T21:39:22.1719054Z       at Object.<anonymous> (src/structure.test.ts:17:39)
2025-02-26T21:39:22.1719441Z 
2025-02-26T21:39:22.2284842Z PASS src/state/actions/__tests__/workerActions.test.ts
2025-02-26T21:39:22.3384728Z PASS src/components/layout/__tests__/Layout.test.tsx
2025-02-26T21:39:22.3583219Z   ● Console
2025-02-26T21:39:22.3583708Z 
2025-02-26T21:39:22.3584089Z     console.error
2025-02-26T21:39:22.3584829Z       TypeError: Cannot read properties of undefined (reading 'activeEvents')
2025-02-26T21:39:22.3586164Z           at activeEvents (/home/runner/work/idle-game/idle-game/src/components/events/EventPanel.tsx:16:41)
2025-02-26T21:39:22.3587587Z           at /home/runner/work/idle-game/idle-game/node_modules/react-redux/src/hooks/useSelector.ts:171:28
2025-02-26T21:39:22.3589426Z           at memoizedSelector (/home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)
2025-02-26T21:39:22.3591833Z           at /home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22
2025-02-26T21:39:22.3593792Z           at mountSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:6214:24)
2025-02-26T21:39:22.3595679Z           at Object.useSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:22810:16)
2025-02-26T21:39:22.3597889Z           at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:1507:34)
2025-02-26T21:39:22.3600608Z           at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)
2025-02-26T21:39:22.3603198Z           at useSelector2 (/home/runner/work/idle-game/idle-game/node_modules/react-redux/src/hooks/useSelector.ts:243:27)
2025-02-26T21:39:22.3604626Z           at EventPanel (/home/runner/work/idle-game/idle-game/src/components/events/EventPanel.tsx:14:35)
2025-02-26T21:39:22.3606259Z           at Object.react-stack-bottom-frame (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:22428:20)
2025-02-26T21:39:22.3608220Z           at renderWithHooks (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:5757:22)
2025-02-26T21:39:22.3610032Z           at updateFunctionComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:8018:19)
2025-02-26T21:39:22.3615800Z           at updateSimpleMemoComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:7869:14)
2025-02-26T21:39:22.3617627Z           at updateMemoComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:7802:13)
2025-02-26T21:39:22.3619255Z           at beginWork (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:10103:18)
2025-02-26T21:39:22.3621103Z           at runWithFiberInDEV (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
2025-02-26T21:39:22.3623466Z           at performUnitOfWork (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:15052:22)
2025-02-26T21:39:22.3625522Z           at workLoopSync (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14870:41)
2025-02-26T21:39:22.3634461Z           at renderRootSync (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14850:11)
2025-02-26T21:39:22.3636550Z           at performWorkOnRoot (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14384:44)
2025-02-26T21:39:22.3638628Z           at performWorkOnRootViaSchedulerTask (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:15931:7)
2025-02-26T21:39:22.3640448Z           at flushActQueue (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:862:34)
2025-02-26T21:39:22.3642599Z           at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:1151:10)
2025-02-26T21:39:22.3644370Z           at /home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/act-compat.js:47:25
2025-02-26T21:39:22.3698808Z           at renderRoot (/home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/pure.js:188:26)
2025-02-26T21:39:22.3700227Z           at render (/home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/pure.js:287:10)
2025-02-26T21:39:22.3701860Z           at Object.<anonymous> (/home/runner/work/idle-game/idle-game/src/components/layout/__tests__/Layout.test.tsx:44:11)
2025-02-26T21:39:22.3703289Z           at Promise.then.completed (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/utils.js:298:28)
2025-02-26T21:39:22.3704248Z           at new Promise (<anonymous>)
2025-02-26T21:39:22.3705244Z           at callAsyncCircusFn (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/utils.js:231:10)
2025-02-26T21:39:22.3706588Z           at _callCircusTest (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:316:40)
2025-02-26T21:39:22.3707680Z           at processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-02-26T21:39:22.3708746Z           at _runTest (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:252:3)
2025-02-26T21:39:22.3710081Z           at _runTestsForDescribeBlock (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:126:9)
2025-02-26T21:39:22.3715688Z           at _runTestsForDescribeBlock (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:121:9)
2025-02-26T21:39:22.3716996Z           at run (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:71:3)
2025-02-26T21:39:22.3718694Z           at runAndTransformResultsToJestFormat (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
2025-02-26T21:39:22.3720645Z           at jestAdapter (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
2025-02-26T21:39:22.3722386Z           at runTestInternal (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/runTest.js:367:16)
2025-02-26T21:39:22.3723685Z           at runTest (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/runTest.js:444:34)
2025-02-26T21:39:22.3724983Z           at Object.worker (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/testWorker.js:106:12) {
2025-02-26T21:39:22.3726174Z         [stack]: "TypeError: Cannot read properties of undefined (reading 'activeEvents')\n" +
2025-02-26T21:39:22.3727349Z           '    at activeEvents (/home/runner/work/idle-game/idle-game/src/components/events/EventPanel.tsx:16:41)\n' +
2025-02-26T21:39:22.3728679Z           '    at /home/runner/work/idle-game/idle-game/node_modules/react-redux/src/hooks/useSelector.ts:171:28\n' +
2025-02-26T21:39:22.3730494Z           '    at memoizedSelector (/home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:46:30)\n' +
2025-02-26T21:39:22.3732629Z           '    at /home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:70:22\n' +
2025-02-26T21:39:22.3734091Z           '    at mountSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:6214:24)\n' +
2025-02-26T21:39:22.3735479Z           '    at Object.useSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:22810:16)\n' +
2025-02-26T21:39:22.3737018Z           '    at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStore (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:1507:34)\n' +
2025-02-26T21:39:22.3739044Z           '    at Object.<anonymous>.process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/home/runner/work/idle-game/idle-game/node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js:81:19)\n' +
2025-02-26T21:39:22.3740783Z           '    at useSelector2 (/home/runner/work/idle-game/idle-game/node_modules/react-redux/src/hooks/useSelector.ts:243:27)\n' +
2025-02-26T21:39:22.3742004Z           '    at EventPanel (/home/runner/work/idle-game/idle-game/src/components/events/EventPanel.tsx:14:35)\n' +
2025-02-26T21:39:22.3743221Z           '    at Object.react-stack-bottom-frame (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:22428:20)\n' +
2025-02-26T21:39:22.3744564Z           '    at renderWithHooks (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:5757:22)\n' +
2025-02-26T21:39:22.3746026Z           '    at updateFunctionComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:8018:19)\n' +
2025-02-26T21:39:22.3747733Z           '    at updateSimpleMemoComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:7869:14)\n' +
2025-02-26T21:39:22.3749350Z           '    at updateMemoComponent (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:7802:13)\n' +
2025-02-26T21:39:22.3751178Z           '    at beginWork (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:10103:18)\n' +
2025-02-26T21:39:22.3752815Z           '    at runWithFiberInDEV (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:543:16)\n' +
2025-02-26T21:39:22.3754498Z           '    at performUnitOfWork (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:15052:22)\n' +
2025-02-26T21:39:22.3756114Z           '    at workLoopSync (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14870:41)\n' +
2025-02-26T21:39:22.3757540Z           '    at renderRootSync (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14850:11)\n' +
2025-02-26T21:39:22.3759111Z           '    at performWorkOnRoot (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:14384:44)\n' +
2025-02-26T21:39:22.3761117Z           '    at performWorkOnRootViaSchedulerTask (/home/runner/work/idle-game/idle-game/node_modules/react-dom/cjs/react-dom-client.development.js:15931:7)\n' +
2025-02-26T21:39:22.3762793Z           '    at flushActQueue (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:862:34)\n' +
2025-02-26T21:39:22.3764369Z           '    at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/runner/work/idle-game/idle-game/node_modules/react/cjs/react.development.js:1151:10)\n' +
2025-02-26T21:39:22.3766016Z           '    at /home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/act-compat.js:47:25\n' +
2025-02-26T21:39:22.3767369Z           '    at renderRoot (/home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/pure.js:188:26)\n' +
2025-02-26T21:39:22.3768954Z           '    at render (/home/runner/work/idle-game/idle-game/node_modules/@testing-library/react/dist/pure.js:287:10)\n' +
2025-02-26T21:39:22.3770343Z           '    at Object.<anonymous> (/home/runner/work/idle-game/idle-game/src/components/layout/__tests__/Layout.test.tsx:44:11)\n' +
2025-02-26T21:39:22.3799192Z           '    at Promise.then.completed (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/utils.js:298:28)\n' +
2025-02-26T21:39:22.3800097Z           '    at new Promise (<anonymous>)\n' +
2025-02-26T21:39:22.3801257Z           '    at callAsyncCircusFn (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/utils.js:231:10)\n' +
2025-02-26T21:39:22.3802554Z           '    at _callCircusTest (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:316:40)\n' +
2025-02-26T21:39:22.3803733Z           '    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
2025-02-26T21:39:22.3804825Z           '    at _runTest (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:252:3)\n' +
2025-02-26T21:39:22.3806143Z           '    at _runTestsForDescribeBlock (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:126:9)\n' +
2025-02-26T21:39:22.3807569Z           '    at _runTestsForDescribeBlock (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:121:9)\n' +
2025-02-26T21:39:22.3808898Z           '    at run (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/run.js:71:3)\n' +
2025-02-26T21:39:22.3810643Z           '    at runAndTransformResultsToJestFormat (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n' +
2025-02-26T21:39:22.3812886Z           '    at jestAdapter (/home/runner/work/idle-game/idle-game/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n' +
2025-02-26T21:39:22.3814524Z           '    at runTestInternal (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/runTest.js:367:16)\n' +
2025-02-26T21:39:22.3815879Z           '    at runTest (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/runTest.js:444:34)\n' +
2025-02-26T21:39:22.3817222Z           '    at Object.worker (/home/runner/work/idle-game/idle-game/node_modules/jest-runner/build/testWorker.js:106:12)',
2025-02-26T21:39:22.3818332Z         [message]: "Cannot read properties of undefined (reading 'activeEvents')"
2025-02-26T21:39:22.3818940Z       }
2025-02-26T21:39:22.3819221Z       
2025-02-26T21:39:22.3819688Z       The above error occurred in the <EventPanel> component.
2025-02-26T21:39:22.3820213Z       
2025-02-26T21:39:22.3821241Z       React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.
2025-02-26T21:39:22.3821940Z 
2025-02-26T21:39:22.3822731Z     [0m [90m 42 |[39m describe([32m'Layout Component'[39m[33m,[39m () [33m=>[39m {
2025-02-26T21:39:22.3823904Z      [90m 43 |[39m   test([32m'renders all layout components correctly'[39m[33m,[39m () [33m=>[39m {
2025-02-26T21:39:22.3824795Z     [31m[1m>[22m[39m[90m 44 |[39m     render(
2025-02-26T21:39:22.3825413Z      [90m    |[39m           [31m[1m^[22m[39m
2025-02-26T21:39:22.3826219Z      [90m 45 |[39m       [33m<[39m[33mProvider[39m store[33m=[39m{store}[33m>[39m
2025-02-26T21:39:22.3827870Z      [90m 46 |[39m         [33m<[39m[33mLayout[39m sidebarContent[33m=[39m{[33m<[39m[33mdiv[39m[33m>[39m[33mSidebar[39m [33mContent[39m[33m<[39m[33m/[39m[33mdiv[39m[33m>[39m}[33m>[39m
2025-02-26T21:39:22.3829597Z      [90m 47 |[39m           [33m<[39m[33mdiv[39m[33m>[39m[33mMain[39m [33mContent[39m[33m<[39m[33m/[39m[33mdiv[39m[33m>[39m[0m
2025-02-26T21:39:22.3830533Z 
2025-02-26T21:39:22.3831356Z       at defaultOnCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:7445:21)
2025-02-26T21:39:22.3832734Z       at logCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:7484:9)
2025-02-26T21:39:22.3833858Z       at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
2025-02-26T21:39:22.3847365Z       at ErrorBoundary.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:7531:11)
2025-02-26T21:39:22.3848840Z       at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:10680:16)
2025-02-26T21:39:22.3849960Z       at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:10700:11)
2025-02-26T21:39:22.3851294Z       at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
2025-02-26T21:39:22.3852507Z       at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:10919:11)
2025-02-26T21:39:22.3853748Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11490:25)
2025-02-26T21:39:22.3855110Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3856455Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11529:11)
2025-02-26T21:39:22.3857845Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3859203Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11413:11)
2025-02-26T21:39:22.3860563Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3862811Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11585:11)
2025-02-26T21:39:22.3863943Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3865043Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11413:11)
2025-02-26T21:39:22.3866136Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3867236Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11495:11)
2025-02-26T21:39:22.3868239Z       at commitLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12406:7)
2025-02-26T21:39:22.3869182Z       at commitRootImpl (node_modules/react-dom/cjs/react-dom-client.development.js:15352:11)
2025-02-26T21:39:22.3870033Z       at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15251:11)
2025-02-26T21:39:22.3871210Z       at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14445:15)
2025-02-26T21:39:22.3872329Z       at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:15931:7)
2025-02-26T21:39:22.3873286Z       at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
2025-02-26T21:39:22.3874210Z       at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
2025-02-26T21:39:22.3875034Z       at node_modules/@testing-library/react/dist/act-compat.js:47:25
2025-02-26T21:39:22.3875693Z       at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
2025-02-26T21:39:22.3876373Z       at render (node_modules/@testing-library/react/dist/pure.js:287:10)
2025-02-26T21:39:22.3877067Z       at Object.<anonymous> (src/components/layout/__tests__/Layout.test.tsx:44:11)
2025-02-26T21:39:22.3877497Z 
2025-02-26T21:39:22.3877611Z     console.error
2025-02-26T21:39:22.3878473Z       [ERROR in UnknownComponent]: Cannot read properties of undefined (reading 'activeEvents') {
2025-02-26T21:39:22.3879155Z         component: 'UnknownComponent',
2025-02-26T21:39:22.3879571Z         componentStack: '\n' +
2025-02-26T21:39:22.3880543Z           '    at EventPanel (/home/runner/work/idle-game/idle-game/src/components/events/EventPanel.tsx:14:35)\n' +
2025-02-26T21:39:22.3881823Z           '    at ErrorBoundary (/home/runner/work/idle-game/idle-game/src/components/error/ErrorBoundary.tsx:36:5)\n' +
2025-02-26T21:39:22.3882628Z           '    at div (<anonymous>)\n' +
2025-02-26T21:39:22.3883533Z           '    at children (/home/runner/work/idle-game/idle-game/src/components/layout/Layout.tsx:16:42)\n' +
2025-02-26T21:39:22.3884759Z           '    at Provider (/home/runner/work/idle-game/idle-game/node_modules/react-redux/src/components/Provider.tsx:60:11)'
2025-02-26T21:39:22.3885581Z       }
2025-02-26T21:39:22.3885750Z 
2025-02-26T21:39:22.3886879Z     [0m [90m 135 |[39m       console[33m.[39merror([32m`[CRITICAL${context ? ' in ' + context : ''}]: ${errorMsg}`[39m[33m,[39m metadata [33m||[39m data)[33m;[39m
2025-02-26T21:39:22.3888444Z      [90m 136 |[39m     } [36melse[39m [36mif[39m (severity [33m===[39m [33mErrorSeverity[39m[33m.[39m[33mERROR[39m) {
2025-02-26T21:39:22.3890113Z     [31m[1m>[22m[39m[90m 137 |[39m       console[33m.[39merror([32m`[ERROR${context ? ' in ' + context : ''}]: ${errorMsg}`[39m[33m,[39m metadata [33m||[39m data)[33m;[39m
2025-02-26T21:39:22.3891441Z      [90m     |[39m               [31m[1m^[22m[39m
2025-02-26T21:39:22.3891994Z      [90m 138 |[39m     }
2025-02-26T21:39:22.3892437Z      [90m 139 |[39m     
2025-02-26T21:39:22.3893156Z      [90m 140 |[39m     [90m// Skip logging INFO and WARNING to console[39m[0m
2025-02-26T21:39:22.3893584Z 
2025-02-26T21:39:22.3893975Z       at ErrorLogger.error [as logError] (src/utils/errorUtils.ts:137:15)
2025-02-26T21:39:22.3894951Z       at ErrorBoundary.logError [as componentDidCatch] (src/components/error/ErrorBoundary.tsx:58:31)
2025-02-26T21:39:22.3896112Z       at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:22481:20)
2025-02-26T21:39:22.3897513Z       at ErrorBoundary.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:7542:11)
2025-02-26T21:39:22.3898654Z       at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:10680:16)
2025-02-26T21:39:22.3899548Z       at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:10700:11)
2025-02-26T21:39:22.3900449Z       at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:543:16)
2025-02-26T21:39:22.3901604Z       at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:10919:11)
2025-02-26T21:39:22.3902622Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11490:25)
2025-02-26T21:39:22.3903771Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3904882Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11529:11)
2025-02-26T21:39:22.3905982Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3907070Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11413:11)
2025-02-26T21:39:22.3908215Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3909310Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11585:11)
2025-02-26T21:39:22.3910414Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3911684Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11413:11)
2025-02-26T21:39:22.3913001Z       at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12412:11)
2025-02-26T21:39:22.3914382Z       at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:11495:11)
2025-02-26T21:39:22.3915519Z       at commitLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12406:7)
2025-02-26T21:39:22.3916521Z       at commitRootImpl (node_modules/react-dom/cjs/react-dom-client.development.js:15352:11)
2025-02-26T21:39:22.3917466Z       at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15251:11)
2025-02-26T21:39:22.3918484Z       at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14445:15)
2025-02-26T21:39:22.3919642Z       at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:15931:7)
2025-02-26T21:39:22.3920648Z       at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
2025-02-26T21:39:22.3921919Z       at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
2025-02-26T21:39:22.3922986Z       at node_modules/@testing-library/react/dist/act-compat.js:47:25
2025-02-26T21:39:22.3923812Z       at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
2025-02-26T21:39:22.3924661Z       at render (node_modules/@testing-library/react/dist/pure.js:287:10)
2025-02-26T21:39:22.3925547Z       at Object.<anonymous> (src/components/layout/__tests__/Layout.test.tsx:44:11)
2025-02-26T21:39:22.3926047Z 
2025-02-26T21:39:22.5085023Z PASS src/config.test.ts
2025-02-26T21:39:22.5570462Z PASS src/managers/GameLoopManager.test.ts
2025-02-26T21:39:22.5571973Z   ● Console
2025-02-26T21:39:22.5572390Z 
2025-02-26T21:39:22.5574045Z     console.log
2025-02-26T21:39:22.5576611Z       GameLoopManager: Registered tick handler, total handlers: 1
2025-02-26T21:39:22.5578507Z 
2025-02-26T21:39:22.5582612Z       at GameLoopManager.log [as registerTickHandler] (src/managers/GameLoopManager.ts:39:17)
2025-02-26T21:39:22.5583256Z 
2025-02-26T21:39:22.6430272Z PASS src/index.test.ts
2025-02-26T21:39:22.7472252Z PASS src/styles/index.test.ts
2025-02-26T21:39:22.7846110Z PASS src/utils/EventEmitter.test.ts
2025-02-26T21:39:23.1359665Z -----------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2025-02-26T21:39:23.1361625Z File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                      
2025-02-26T21:39:23.1362693Z -----------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2025-02-26T21:39:23.1370429Z All files                    |   54.59 |    40.31 |   47.53 |   54.76 |                                                                                                                                                                                        
2025-02-26T21:39:23.1371748Z  components                  |   74.41 |       85 |   66.66 |      75 |                                                                                                                                                                                        
2025-02-26T21:39:23.1372903Z   GameTimer.tsx              |   64.81 |    71.42 |      60 |   65.38 | 38,47-74,98,104,121-122                                                                                                                                                                
2025-02-26T21:39:23.1374567Z   OfflineProgressModal.tsx   |   81.25 |      100 |      60 |   81.25 | 36-39                                                                                                                                                                                  
2025-02-26T21:39:23.1376014Z   ResourceDisplay.tsx        |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1377182Z   ResourceList.tsx           |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1378357Z  components/buildings        |   73.49 |    66.21 |   76.47 |   73.17 |                                                                                                                                                                                        
2025-02-26T21:39:23.1379533Z   BuildingItem.tsx           |   94.28 |       75 |     100 |   94.11 | 17,21                                                                                                                                                                                  
2025-02-26T21:39:23.1380592Z   BuildingList.tsx           |   58.33 |    60.86 |      50 |   58.33 | 17,21,27,47-54,61-63,117-125,147,181                                                                                                                                                   
2025-02-26T21:39:23.1381634Z  components/common           |   81.48 |    71.42 |   42.85 |   84.61 |                                                                                                                                                                                        
2025-02-26T21:39:23.1382343Z   Counter.tsx                |   81.48 |    71.42 |   42.85 |   84.61 | 102-146,211                                                                                                                                                                            
2025-02-26T21:39:23.1384430Z  components/error            |   65.45 |    23.72 |   57.14 |   65.45 |                                                                                                                                                                                        
2025-02-26T21:39:23.1385661Z   ErrorBoundary.tsx          |   61.29 |    26.31 |    62.5 |   61.29 | 69,80-97,113,137-150                                                                                                                                                                   
2025-02-26T21:39:23.1386879Z   ErrorFallback.tsx          |   57.14 |    21.21 |   33.33 |   57.14 | 32-47,73                                                                                                                                                                               
2025-02-26T21:39:23.1388071Z   withErrorBoundary.tsx      |      90 |    28.57 |   66.66 |      90 | 28                                                                                                                                                                                     
2025-02-26T21:39:23.1389236Z  components/events           |   42.18 |        0 |   10.52 |   43.54 |                                                                                                                                                                                        
2025-02-26T21:39:23.1390336Z   EventCard.tsx              |   38.46 |        0 |       0 |   38.46 | 17-65                                                                                                                                                                                  
2025-02-26T21:39:23.1391632Z   EventLog.tsx               |   29.16 |        0 |       0 |   31.81 | 16-76                                                                                                                                                                                  
2025-02-26T21:39:23.1393013Z   EventPanel.tsx             |   42.85 |        0 |   28.57 |   42.85 | 19-47                                                                                                                                                                                  
2025-02-26T21:39:23.1394239Z   index.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1395327Z  components/layout           |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1396430Z   Layout.tsx                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1397563Z  components/progression      |   37.46 |    22.84 |   18.62 |    37.9 |                                                                                                                                                                                        
2025-02-26T21:39:23.1398785Z   AchievementDisplay.tsx     |   16.21 |        0 |       0 |   16.66 | 39-189                                                                                                                                                                                 
2025-02-26T21:39:23.1399997Z   ClickableMilestone.tsx     |   10.61 |        0 |       0 |   12.12 | 57-354                                                                                                                                                                                 
2025-02-26T21:39:23.1401318Z   MilestoneList.tsx          |      20 |        0 |       0 |   20.58 | 44-164                                                                                                                                                                                 
2025-02-26T21:39:23.1402496Z   MilestoneProgress.tsx      |    8.95 |        0 |       0 |      10 | 50-250                                                                                                                                                                                 
2025-02-26T21:39:23.1403756Z   MilestoneProgressStrip.tsx |   94.66 |    81.13 |     100 |   95.71 | 109,121,160                                                                                                                                                                            
2025-02-26T21:39:23.1404967Z   ProgressBar.tsx            |   41.66 |        0 |       0 |   41.66 | 27-41                                                                                                                                                                                  
2025-02-26T21:39:23.1406138Z   ProgressionTracker.tsx     |     100 |       50 |     100 |     100 | 22-38                                                                                                                                                                                  
2025-02-26T21:39:23.1407330Z   StageIndicator.tsx         |   58.33 |        0 |       0 |   58.33 | 46-63                                                                                                                                                                                  
2025-02-26T21:39:23.1408399Z   index.ts                   |     100 |      100 |    12.5 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1409657Z  components/resources        |    70.1 |    45.76 |      90 |   77.01 |                                                                                                                                                                                        
2025-02-26T21:39:23.1411186Z   PassiveUpgradePanel.tsx    |   85.29 |    73.33 |     100 |   84.84 | 33-35,46,53                                                                                                                                                                            
2025-02-26T21:39:23.1412480Z   ResourceDisplay.tsx        |    61.9 |    36.36 |   83.33 |   72.22 | 26-43,53,98,102,114-115                                                                                                                                                                
2025-02-26T21:39:23.1413664Z  components/ui               |   58.04 |    44.02 |   39.13 |   57.29 |                                                                                                                                                                                        
2025-02-26T21:39:23.1414723Z   Badge.tsx                  |      60 |        0 |       0 |      60 | 19-27                                                                                                                                                                                  
2025-02-26T21:39:23.1415747Z   Button.tsx                 |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1416779Z   Card.tsx                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1417870Z   Dropdown.tsx               |   84.78 |    69.23 |     100 |   85.71 | 77,84,95-96,102-103                                                                                                                                                                    
2025-02-26T21:39:23.1418952Z   Grid.tsx                   |   14.28 |        0 |       0 |   18.75 | 21-56                                                                                                                                                                                  
2025-02-26T21:39:23.1420025Z   Icon.tsx                   |   42.85 |    44.82 |     100 |   42.85 | 49-53,61,69-85,99-115,123-131                                                                                                                                                          
2025-02-26T21:39:23.1421248Z   Modal.tsx                  |    92.3 |    80.95 |    87.5 |      92 | 46-47                                                                                                                                                                                  
2025-02-26T21:39:23.1422313Z   ProgressBar.tsx            |      30 |        0 |       0 |      30 | 28-51                                                                                                                                                                                  
2025-02-26T21:39:23.1423357Z   Tabs.tsx                   |   26.66 |        0 |       0 |   28.57 | 28-47                                                                                                                                                                                  
2025-02-26T21:39:23.1424377Z   Tooltip.tsx                |   14.81 |        0 |       0 |   14.81 | 19-63                                                                                                                                                                                  
2025-02-26T21:39:23.1425443Z   index.ts                   |     100 |      100 |       0 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1426827Z  components/workers          |      75 |    55.55 |   66.66 |    92.3 |                                                                                                                                                                                        
2025-02-26T21:39:23.1427458Z   WorkerOverview.tsx         |      75 |    55.55 |   66.66 |    92.3 | 43                                                                                                                                                                                     
2025-02-26T21:39:23.1428049Z  config                      |   56.25 |        0 |       0 |   56.25 |                                                                                                                                                                                        
2025-02-26T21:39:23.1428657Z   gameBalance.ts             |   56.25 |        0 |       0 |   56.25 | 112-113,121-126,137                                                                                                                                                                    
2025-02-26T21:39:23.1429274Z  constants                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1429856Z   resources.ts               |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1430406Z  core                        |   74.09 |    54.71 |   79.06 |   76.05 |                                                                                                                                                                                        
2025-02-26T21:39:23.1431203Z   GameLoop.ts                |   69.23 |    48.27 |   77.77 |   70.17 | 84-93,152-153,173-176,210-213,221-229,256-276,354-371,396                                                                                                                              
2025-02-26T21:39:23.1432002Z   GameTimer.ts               |   79.61 |     62.5 |      80 |   82.82 | 116-117,202-207,252-263,275-276,312,331-332,358-372                                                                                                                                    
2025-02-26T21:39:23.1432698Z  data/progression            |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1433316Z   milestones.ts              |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1433905Z  interfaces                  |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1434471Z   Event.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1435033Z   Resource.ts                |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1435785Z  interfaces/progression      |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1436496Z   index.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1437050Z  managers                    |   53.38 |    28.08 |   58.82 |    53.6 |                                                                                                                                                                                        
2025-02-26T21:39:23.1437685Z   GameLoopManager.ts         |   49.05 |    43.75 |   36.36 |      50 | 49-90,106,114,121-124,130-152                                                                                                                                                          
2025-02-26T21:39:23.1438559Z   TaskManager.ts             |   54.54 |    24.65 |   69.56 |   54.54 | 53-54,61-63,82-131,144,153-154,172-188,203-204,209-210,226-227,238-239,244-245,270-271,286-287,307-318,325-326,341-342,346-347,355-356,371-372,377,390-391,415-433,452,468-469,490-531 
2025-02-26T21:39:23.1439408Z  managers/progression        |   18.87 |     9.09 |   37.03 |    18.1 |                                                                                                                                                                                        
2025-02-26T21:39:23.1440120Z   ProgressionManager.ts      |   16.59 |     9.09 |   30.43 |   16.73 | 78-261,273,289-317,329,344-476,499-622,632                                                                                                                                             
2025-02-26T21:39:23.1440800Z   jest.setup.ts              |    87.5 |      100 |      75 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1441505Z  models                      |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1442068Z   resource.ts                |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1442630Z   task.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1443178Z   types.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1443719Z  redux                       |   39.65 |        8 |    19.6 |   35.13 |                                                                                                                                                                                        
2025-02-26T21:39:23.1444397Z   progressionSlice.ts        |   39.21 |        0 |   24.24 |   34.14 | 56-173,193,196,207,212,217,222,226-227,231-232,236-237,241-242                                                                                                                         
2025-02-26T21:39:23.1445324Z   resourcesSlice.ts          |   40.27 |    15.38 |   11.11 |   36.36 | 45,59-63,88-173,194,197,200,206-207,211-213                                                                                                                                            
2025-02-26T21:39:23.1446080Z  state                       |   64.35 |    35.41 |   46.46 |   63.56 |                                                                                                                                                                                        
2025-02-26T21:39:23.1446744Z   eventsSlice.ts             |   55.31 |       40 |   46.15 |   55.55 | 47,58-61,73-74,107-108,112-113,132-140,150-151,164-172,185                                                                                                                             
2025-02-26T21:39:23.1447445Z   gameSlice.ts               |   51.72 |        0 |      25 |   51.72 | 46-75,85-90,108                                                                                                                                                                        
2025-02-26T21:39:23.1448027Z   hooks.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1448633Z   resourcesSlice.ts          |   49.05 |    31.57 |      60 |   49.05 | 60-67,101-152                                                                                                                                                                          
2025-02-26T21:39:23.1449310Z   selectors.ts               |   56.41 |    13.15 |   16.66 |   54.54 | 11,17,40-42,56,62-68,79,85,90-92,107-109,123,129-135                                                                                                                                   
2025-02-26T21:39:23.1449939Z   store.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1450539Z   structuresSlice.ts         |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1451328Z   tasksSlice.ts              |   74.62 |    57.14 |   84.21 |   70.17 | 79-90,112-117,124-127                                                                                                                                                                  
2025-02-26T21:39:23.1451952Z  state/actions               |   25.37 |        0 |       0 |   21.87 |                                                                                                                                                                                        
2025-02-26T21:39:23.1452574Z   workerActions.ts           |   25.37 |        0 |       0 |   21.87 | 36-71,83-127,137-163                                                                                                                                                                   
2025-02-26T21:39:23.1453211Z  state/middleware            |   78.26 |       40 |      75 |    75.6 |                                                                                                                                                                                        
2025-02-26T21:39:23.1453829Z   taskMiddleware.ts          |   96.77 |      100 |     100 |   96.42 | 60                                                                                                                                                                                     
2025-02-26T21:39:23.1454458Z   trackingMiddleware.ts      |      40 |        0 |      50 |   30.76 | 23,39-62                                                                                                                                                                               
2025-02-26T21:39:23.1455295Z  systems                     |   60.78 |    53.71 |   72.44 |   61.33 |                                                                                                                                                                                        
2025-02-26T21:39:23.1455929Z   buildingManager.ts         |   64.04 |    51.02 |   84.61 |   63.63 | 28,76,88,103,161,169,174,196,213-262                                                                                                                                                   
2025-02-26T21:39:23.1456820Z   eventManager.ts            |   47.56 |    37.12 |   55.55 |   48.73 | 76-78,89,106-115,135,163,187,192,197-199,212-216,232,252-282,296-300,335-341,369-370,375-376,397,403-407,425-426,430-431,439-440,446,460-461,467-471,488-489,505-509,536-599,612-703   
2025-02-26T21:39:23.1457671Z   gameEndConditions.ts       |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1458374Z   resourceManager.ts         |   58.73 |    60.55 |   78.26 |   58.73 | 45,104,110,169-170,218,281,308,313,366,392,410-620                                                                                                                                     
2025-02-26T21:39:23.1459140Z   workerManager.ts           |   77.93 |    71.42 |      84 |   79.13 | 25,56-58,101,126,170,179,203,225,278,298,329-339,388-399                                                                                                                               
2025-02-26T21:39:23.1459776Z  types                       |      60 |        0 |       0 |      60 |                                                                                                                                                                                        
2025-02-26T21:39:23.1460319Z   nullObjects.ts             |      60 |        0 |       0 |      60 | 13,23                                                                                                                                                                                  
2025-02-26T21:39:23.1460978Z  utils                       |   48.47 |    36.66 |   46.66 |   48.33 |                                                                                                                                                                                        
2025-02-26T21:39:23.1461563Z   EventEmitter.ts            |   48.14 |    41.66 |    37.5 |   48.14 | 30-40,62-101                                                                                                                                                                           
2025-02-26T21:39:23.1462292Z   errorUtils.ts              |   40.81 |    34.92 |      25 |   41.66 | 42-50,55-56,76-80,103-108,117,135,145,150-238,258-260,275-281,300-308,322-329                                                                                                          
2025-02-26T21:39:23.1463016Z   formatters.ts              |   27.02 |    33.33 |      25 |   27.77 | 11,22-30,39-57,67-68,77-84                                                                                                                                                             
2025-02-26T21:39:23.1463667Z   resourceUtils.ts           |   91.89 |    96.96 |     100 |   91.89 | 53-58,161-162,203-204                                                                                                                                                                  
2025-02-26T21:39:23.1464375Z   stateValidation.ts         |   10.46 |        0 |   22.22 |    7.22 | 14-39,49-125,135-170,179-214,222-241                                                                                                                                                   
2025-02-26T21:39:23.1465200Z   testHelpers.ts             |     100 |      100 |     100 |     100 |                                                                                                                                                                                        
2025-02-26T21:39:23.1465924Z   testUtils.ts               |   72.22 |       50 |   33.33 |   70.58 | 37,48,59-68                                                                                                                                                                            
2025-02-26T21:39:23.1466581Z   timeUtils.ts               |   63.49 |    70.58 |   53.84 |   63.49 | 27,44,61-62,127-144,152-161,168-174,182-185                                                                                                                                            
2025-02-26T21:39:23.1467303Z   validationUtils.ts         |      35 |       32 |   28.57 |      35 | 23-26,48-63,80-81,87-88,101,111,121-125,136-140                                                                                                                                        
2025-02-26T21:39:23.1468247Z -----------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2025-02-26T21:39:23.2426560Z 
2025-02-26T21:39:23.2428303Z Summary of all failing tests
2025-02-26T21:39:23.2433360Z FAIL src/systems/resourceManager.test.ts (9.466 s)
2025-02-26T21:39:23.2441692Z   ● ResourceManager › calculateResourceGeneration › calculates and updates resource generation rates based on structures
2025-02-26T21:39:23.2442667Z 
2025-02-26T21:39:23.2443202Z     expect(jest.fn()).toHaveBeenCalledWith(...expected)
2025-02-26T21:39:23.2443615Z 
2025-02-26T21:39:23.2443750Z     - Expected
2025-02-26T21:39:23.2444098Z     + Received
2025-02-26T21:39:23.2444273Z 
2025-02-26T21:39:23.2444396Z       Object {
2025-02-26T21:39:23.2445559Z     -   "id": "test-resource-1",
2025-02-26T21:39:23.2448046Z     -   "perSecond": Any<Number>,
2025-02-26T21:39:23.2448727Z     +   "id": "oppression",
2025-02-26T21:39:23.2451292Z     +   "perSecond": 0.05,
2025-02-26T21:39:23.2451936Z       },
2025-02-26T21:39:23.2452979Z 
2025-02-26T21:39:23.2453302Z     Number of calls: 1
2025-02-26T21:39:23.2453761Z 
2025-02-26T21:39:23.2454255Z     [0m [90m 202 |[39m       
2025-02-26T21:39:23.2456987Z      [90m 203 |[39m       [90m// Check resource 1 generation[39m
2025-02-26T21:39:23.2463740Z     [31m[1m>[22m[39m[90m 204 |[39m       expect(updateResourcePerSecondSpy)[33m.[39mtoHaveBeenCalledWith({
2025-02-26T21:39:23.2466787Z      [90m     |[39m                                          [31m[1m^[22m[39m
2025-02-26T21:39:23.2469966Z      [90m 205 |[39m         id[33m:[39m [32m'test-resource-1'[39m[33m,[39m
2025-02-26T21:39:23.2474038Z      [90m 206 |[39m         perSecond[33m:[39m expect[33m.[39many([33mNumber[39m)[33m,[39m
2025-02-26T21:39:23.2475697Z      [90m 207 |[39m       })[33m;[39m[0m
2025-02-26T21:39:23.2476041Z 
2025-02-26T21:39:23.2479243Z       at Object.<anonymous> (src/systems/resourceManager.test.ts:204:42)
2025-02-26T21:39:23.2479641Z 
2025-02-26T21:39:23.2491756Z FAIL src/systems/__tests__/saveManager.test.ts
2025-02-26T21:39:23.2493744Z   ● Test suite failed to run
2025-02-26T21:39:23.2494041Z 
2025-02-26T21:39:23.2496527Z     [96msrc/systems/__tests__/saveManager.test.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m TS2739: [0mType '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: true; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.2498421Z 
2025-02-26T21:39:23.2498655Z     [7m17[0m   game: {
2025-02-26T21:39:23.2501039Z     [7m  [0m [91m  ~~~~[0m
2025-02-26T21:39:23.2531373Z 
2025-02-26T21:39:23.2532348Z       [96msrc/state/store.ts[0m:[93m51[0m:[93m3[0m
2025-02-26T21:39:23.2533087Z         [7m51[0m   game: ReturnType<typeof gameReducer>,
2025-02-26T21:39:23.2534045Z         [7m  [0m [96m  ~~~~[0m
2025-02-26T21:39:23.2534889Z         The expected type comes from property 'game' which is declared here on type 'Partial<RootState>'
2025-02-26T21:39:23.2535517Z 
2025-02-26T21:39:23.2535928Z FAIL src/managers/progression/ProgressionManager.test.ts
2025-02-26T21:39:23.2537080Z   ● ProgressionManager › evaluateRequirement › should handle unknown requirement types
2025-02-26T21:39:23.2537679Z 
2025-02-26T21:39:23.2537968Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:23.2538343Z 
2025-02-26T21:39:23.2538476Z     Expected: false
2025-02-26T21:39:23.2538793Z     Received: true
2025-02-26T21:39:23.2538991Z 
2025-02-26T21:39:23.2539187Z     [0m [90m 124 |[39m
2025-02-26T21:39:23.2539828Z      [90m 125 |[39m       [90m// Use the private method for testing[39m
2025-02-26T21:39:23.2541407Z     [31m[1m>[22m[39m[90m 126 |[39m       expect((manager [36mas[39m any)[33m.[39mevaluateRequirement(requirement))[33m.[39mtoBe([36mfalse[39m)[33m;[39m
2025-02-26T21:39:23.2542719Z      [90m     |[39m                                                                 [31m[1m^[22m[39m
2025-02-26T21:39:23.2543365Z      [90m 127 |[39m     })[33m;[39m
2025-02-26T21:39:23.2543895Z      [90m 128 |[39m   })[33m;[39m
2025-02-26T21:39:23.2544356Z      [90m 129 |[39m[0m
2025-02-26T21:39:23.2544593Z 
2025-02-26T21:39:23.2545095Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:126:65)
2025-02-26T21:39:23.2545668Z 
2025-02-26T21:39:23.2546441Z   ● ProgressionManager › completeMilestone › should not complete a milestone that is already completed
2025-02-26T21:39:23.2547106Z 
2025-02-26T21:39:23.2547401Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:23.2547808Z 
2025-02-26T21:39:23.2547953Z     Expected: false
2025-02-26T21:39:23.2548279Z     Received: true
2025-02-26T21:39:23.2548487Z 
2025-02-26T21:39:23.2548733Z     [0m [90m 161 |[39m       
2025-02-26T21:39:23.2549412Z      [90m 162 |[39m       [90m// Attempt to complete the milestone[39m
2025-02-26T21:39:23.2553453Z     [31m[1m>[22m[39m[90m 163 |[39m       expect(manager[33m.[39mcompleteMilestone([32m'milestone1'[39m))[33m.[39mtoBe([36mfalse[39m)[33m;[39m
2025-02-26T21:39:23.2555211Z      [90m     |[39m                                                       [31m[1m^[22m[39m
2025-02-26T21:39:23.2558829Z      [90m 164 |[39m       expect(completeMilestone)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
2025-02-26T21:39:23.2560118Z      [90m 165 |[39m     })[33m;[39m
2025-02-26T21:39:23.2561392Z      [90m 166 |[39m   })[33m;[39m[0m
2025-02-26T21:39:23.2562238Z 
2025-02-26T21:39:23.2563352Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:163:55)
2025-02-26T21:39:23.2563969Z 
2025-02-26T21:39:23.2567743Z   ● ProgressionManager › unlockAchievement › should not unlock an achievement that is already unlocked
2025-02-26T21:39:23.2568853Z 
2025-02-26T21:39:23.2569330Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:23.2570044Z 
2025-02-26T21:39:23.2570633Z     Expected: false
2025-02-26T21:39:23.2571197Z     Received: true
2025-02-26T21:39:23.2571675Z 
2025-02-26T21:39:23.2571993Z     [0m [90m 200 |[39m       
2025-02-26T21:39:23.2572836Z      [90m 201 |[39m       [90m// Attempt to unlock the achievement[39m
2025-02-26T21:39:23.2578088Z     [31m[1m>[22m[39m[90m 202 |[39m       expect(manager[33m.[39munlockAchievement([32m'achievement1'[39m))[33m.[39mtoBe([36mfalse[39m)[33m;[39m
2025-02-26T21:39:23.2580611Z      [90m     |[39m                                                         [31m[1m^[22m[39m
2025-02-26T21:39:23.2583089Z      [90m 203 |[39m       expect(unlockAchievement)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
2025-02-26T21:39:23.2584675Z      [90m 204 |[39m     })[33m;[39m
2025-02-26T21:39:23.2585493Z      [90m 205 |[39m   })[33m;[39m[0m
2025-02-26T21:39:23.2586383Z 
2025-02-26T21:39:23.2588587Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:202:57)
2025-02-26T21:39:23.2589225Z 
2025-02-26T21:39:23.2590099Z   ● ProgressionManager › checkStageAdvancement › should advance to the next stage when requirements are met
2025-02-26T21:39:23.2590838Z 
2025-02-26T21:39:23.2591329Z     expect(received).toBe(expected) // Object.is equality
2025-02-26T21:39:23.2591733Z 
2025-02-26T21:39:23.2591867Z     Expected: true
2025-02-26T21:39:23.2592189Z     Received: false
2025-02-26T21:39:23.2592387Z 
2025-02-26T21:39:23.2592646Z     [0m [90m 230 |[39m       
2025-02-26T21:39:23.2593252Z      [90m 231 |[39m       [90m// Check stage advancement[39m
2025-02-26T21:39:23.2594636Z     [31m[1m>[22m[39m[90m 232 |[39m       expect(manager[33m.[39mcheckStageAdvancement())[33m.[39mtoBe([36mtrue[39m)[33m;[39m
2025-02-26T21:39:23.2595748Z      [90m     |[39m                                               [31m[1m^[22m[39m
2025-02-26T21:39:23.2598066Z      [90m 233 |[39m       expect(advanceGameStage)[33m.[39mtoHaveBeenCalledWith({
2025-02-26T21:39:23.2599877Z      [90m 234 |[39m         stage[33m:[39m [33mGameStage[39m[33m.[39m[33mMID[39m[33m,[39m
2025-02-26T21:39:23.2601345Z      [90m 235 |[39m         reachedAt[33m:[39m [35m1000[39m[0m
2025-02-26T21:39:23.2601900Z 
2025-02-26T21:39:23.2602510Z       at Object.<anonymous> (src/managers/progression/ProgressionManager.test.ts:232:47)
2025-02-26T21:39:23.2603116Z 
2025-02-26T21:39:23.2603382Z FAIL src/utils/resourceUtils.test.ts
2025-02-26T21:39:23.2604756Z   ● resourceUtils › safeGetResource › should handle null inputs gracefully
2025-02-26T21:39:23.2605284Z 
2025-02-26T21:39:23.2605581Z     expect(received).toEqual(expected) // deep equality
2025-02-26T21:39:23.2605975Z 
2025-02-26T21:39:23.2606125Z     - Expected  - 2
2025-02-26T21:39:23.2606466Z     + Received  + 9
2025-02-26T21:39:23.2606668Z 
2025-02-26T21:39:23.2606817Z     - ObjectContaining {
2025-02-26T21:39:23.2607188Z     -   "id": "",
2025-02-26T21:39:23.2607510Z     + Object {
2025-02-26T21:39:23.2607826Z     +   "amount": 0,
2025-02-26T21:39:23.2608219Z     +   "category": "unknown",
2025-02-26T21:39:23.2609865Z     +   "description": "This resource does not exist.",
2025-02-26T21:39:23.2610419Z     +   "id": "null-resource",
2025-02-26T21:39:23.2610812Z     +   "maxAmount": 0,
2025-02-26T21:39:23.2611416Z     +   "name": "Unknown Resource",
2025-02-26T21:39:23.2612237Z     +   "perSecond": 0,
2025-02-26T21:39:23.2612601Z     +   "unlocked": false,
2025-02-26T21:39:23.2612957Z       }
2025-02-26T21:39:23.2613118Z 
2025-02-26T21:39:23.2613824Z     [0m [90m 124 |[39m       [90m// @ts-ignore - testing invalid input[39m
2025-02-26T21:39:23.2616267Z      [90m 125 |[39m       [36mconst[39m result [33m=[39m safeGetResource([36mnull[39m[33m,[39m [36mnull[39m)[33m;[39m
2025-02-26T21:39:23.2618483Z     [31m[1m>[22m[39m[90m 126 |[39m       expect(result)[33m.[39mtoEqual(expect[33m.[39mobjectContaining({
2025-02-26T21:39:23.2619628Z      [90m     |[39m                      [31m[1m^[22m[39m
2025-02-26T21:39:23.2620616Z      [90m 127 |[39m         id[33m:[39m [32m''[39m
2025-02-26T21:39:23.2621829Z      [90m 128 |[39m       }))[33m;[39m
2025-02-26T21:39:23.2627462Z      [90m 129 |[39m     })[33m;[39m[0m
2025-02-26T21:39:23.2628765Z 
2025-02-26T21:39:23.2629405Z       at Object.<anonymous> (src/utils/resourceUtils.test.ts:126:22)
2025-02-26T21:39:23.2629856Z 
2025-02-26T21:39:23.2630108Z FAIL src/state/tasksSlice.test.ts
2025-02-26T21:39:23.2631097Z   ● tasksSlice › should handle completeTask for non-repeatable task
2025-02-26T21:39:23.2631574Z 
2025-02-26T21:39:23.2632051Z     TypeError: Cannot assign to read only property 'repeatable' of object '#<Object>'
2025-02-26T21:39:23.2632831Z 
2025-02-26T21:39:23.2633415Z     [0m [90m 115 |[39m     [90m// Make it non-repeatable for testing if needed[39m
2025-02-26T21:39:23.2637671Z      [90m 116 |[39m     [36mif[39m (state[33m.[39mtasks[nonRepeatableTaskId][33m.[39mrepeatable) {
2025-02-26T21:39:23.2639723Z     [31m[1m>[22m[39m[90m 117 |[39m       state[33m.[39mtasks[nonRepeatableTaskId][33m.[39mrepeatable [33m=[39m [36mfalse[39m[33m;[39m
2025-02-26T21:39:23.2640838Z      [90m     |[39m                                                  [31m[1m^[22m[39m
2025-02-26T21:39:23.2641557Z      [90m 118 |[39m     }
2025-02-26T21:39:23.2641983Z      [90m 119 |[39m     
2025-02-26T21:39:23.2642931Z      [90m 120 |[39m     state [33m=[39m tasksReducer(state[33m,[39m unlockTask(nonRepeatableTaskId))[33m;[39m[0m
2025-02-26T21:39:23.2643525Z 
2025-02-26T21:39:23.2643862Z       at Object.<anonymous> (src/state/tasksSlice.test.ts:117:50)
2025-02-26T21:39:23.2644256Z 
2025-02-26T21:39:23.2644709Z   ● tasksSlice › should handle completeTask for repeatable task
2025-02-26T21:39:23.2645129Z 
2025-02-26T21:39:23.2645606Z     TypeError: Cannot assign to read only property 'repeatable' of object '#<Object>'
2025-02-26T21:39:23.2646149Z 
2025-02-26T21:39:23.2646401Z     [0m [90m 145 |[39m     
2025-02-26T21:39:23.2647086Z      [90m 146 |[39m     [90m// Make it repeatable for testing if needed[39m
2025-02-26T21:39:23.2648356Z     [31m[1m>[22m[39m[90m 147 |[39m     state[33m.[39mtasks[repeatableTaskId][33m.[39mrepeatable [33m=[39m [36mtrue[39m[33m;[39m
2025-02-26T21:39:23.2649418Z      [90m     |[39m                                             [31m[1m^[22m[39m
2025-02-26T21:39:23.2649948Z      [90m 148 |[39m     
2025-02-26T21:39:23.2651431Z      [90m 149 |[39m     state [33m=[39m tasksReducer(state[33m,[39m unlockTask(repeatableTaskId))[33m;[39m
2025-02-26T21:39:23.2653009Z      [90m 150 |[39m     state [33m=[39m tasksReducer(state[33m,[39m startTask({[0m
2025-02-26T21:39:23.2653472Z 
2025-02-26T21:39:23.2654010Z       at Object.<anonymous> (src/state/tasksSlice.test.ts:147:45)
2025-02-26T21:39:23.2654419Z 
2025-02-26T21:39:23.2654712Z   ● tasksSlice › should handle resetTask
2025-02-26T21:39:23.2655021Z 
2025-02-26T21:39:23.2656522Z     TypeError: Cannot assign to read only property 'repeatable' of object '#<Object>'
2025-02-26T21:39:23.2657075Z 
2025-02-26T21:39:23.2658368Z     [0m [90m 190 |[39m     [36mlet[39m state [33m=[39m tasksReducer(initialState[33m,[39m initializeTasks())[33m;[39m
2025-02-26T21:39:23.2660249Z      [90m 191 |[39m     [36mconst[39m taskId [33m=[39m [33mObject[39m[33m.[39mkeys(state[33m.[39mtasks)[[35m0[39m][33m;[39m
2025-02-26T21:39:23.2662557Z     [31m[1m>[22m[39m[90m 192 |[39m     state[33m.[39mtasks[taskId][33m.[39mrepeatable [33m=[39m [36mtrue[39m[33m;[39m [90m// Make sure it's repeatable[39m
2025-02-26T21:39:23.2663721Z      [90m     |[39m                                   [31m[1m^[22m[39m
2025-02-26T21:39:23.2664279Z      [90m 193 |[39m     
2025-02-26T21:39:23.2665492Z      [90m 194 |[39m     state [33m=[39m tasksReducer(state[33m,[39m unlockTask(taskId))[33m;[39m
2025-02-26T21:39:23.2666514Z      [90m 195 |[39m     state [33m=[39m tasksReducer(state[33m,[39m startTask({[0m
2025-02-26T21:39:23.2666893Z 
2025-02-26T21:39:23.2667359Z       at Object.<anonymous> (src/state/tasksSlice.test.ts:192:35)
2025-02-26T21:39:23.2667643Z 
2025-02-26T21:39:23.2668003Z FAIL src/utils/__tests__/saveUtils.test.ts
2025-02-26T21:39:23.2668599Z   ● Test suite failed to run
2025-02-26T21:39:23.2668919Z 
2025-02-26T21:39:23.2673793Z     [96msrc/utils/__tests__/saveUtils.test.ts[0m:[93m43[0m:[93m3[0m - [91merror[0m[90m TS2739: [0mType '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: true; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.2675894Z 
2025-02-26T21:39:23.2676110Z     [7m43[0m   game: {
2025-02-26T21:39:23.2676588Z     [7m  [0m [91m  ~~~~[0m
2025-02-26T21:39:23.2676840Z 
2025-02-26T21:39:23.2677196Z       [96msrc/state/store.ts[0m:[93m51[0m:[93m3[0m
2025-02-26T21:39:23.2678161Z         [7m51[0m   game: ReturnType<typeof gameReducer>,
2025-02-26T21:39:23.2678753Z         [7m  [0m [96m  ~~~~[0m
2025-02-26T21:39:23.2679564Z         The expected type comes from property 'game' which is declared here on type 'Partial<RootState>'
2025-02-26T21:39:23.2680165Z 
2025-02-26T21:39:23.2680428Z FAIL src/managers/TaskManager.test.ts
2025-02-26T21:39:23.2681107Z   ● Test suite failed to run
2025-02-26T21:39:23.2681382Z 
2025-02-26T21:39:23.2681723Z     ReferenceError: Cannot access 'task_1' before initialization
2025-02-26T21:39:23.2682160Z 
2025-02-26T21:39:23.2682616Z     [0m [90m 15 |[39m             name[33m:[39m [32m'Test Task'[39m[33m,[39m
2025-02-26T21:39:23.2684100Z      [90m 16 |[39m             description[33m:[39m [32m'A test task'[39m[33m,[39m
2025-02-26T21:39:23.2687205Z     [31m[1m>[22m[39m[90m 17 |[39m             category[33m:[39m [33mTaskCategory[39m[33m.[39m[33mORGANIZING[39m[33m,[39m
2025-02-26T21:39:23.2688199Z      [90m    |[39m                       [31m[1m^[22m[39m
2025-02-26T21:39:23.2688992Z      [90m 18 |[39m             duration[33m:[39m [35m60[39m[33m,[39m
2025-02-26T21:39:23.2691822Z      [90m 19 |[39m             cost[33m:[39m { [32m'collective_bargaining_power'[39m[33m:[39m [35m10[39m }[33m,[39m
2025-02-26T21:39:23.2693924Z      [90m 20 |[39m             rewards[33m:[39m { [32m'solidarity'[39m[33m:[39m [35m20[39m }[33m,[39m[0m
2025-02-26T21:39:23.2694430Z 
2025-02-26T21:39:23.2694667Z       at src/managers/TaskManager.test.ts:17:23
2025-02-26T21:39:23.2695557Z       at Object.require (src/managers/TaskManager.ts:1:1)
2025-02-26T21:39:23.2696891Z       at Object.<anonymous> (src/managers/TaskManager.test.ts:1:1)
2025-02-26T21:39:23.2697314Z 
2025-02-26T21:39:23.2697905Z FAIL src/systems/__tests__/gameLoop.test.ts
2025-02-26T21:39:23.2698522Z   ● Test suite failed to run
2025-02-26T21:39:23.2698781Z 
2025-02-26T21:39:23.2710164Z     [96msrc/systems/__tests__/gameLoop.test.ts[0m:[93m73[0m:[93m25[0m - [91merror[0m[90m TS2345: [0mArgument of type 'EnhancedStore<{ resources: ResourcesState; game: GameState; structures: StructuresState; }, UnknownAction, Tuple<[StoreEnhancer<{ dispatch: ThunkDispatch<{ ...; }, undefined, UnknownAction>; }>, StoreEnhancer]>>' is not assignable to parameter of type 'Store<RootState, UnknownAction, unknown>'.
2025-02-26T21:39:23.2711950Z       The types returned by 'getState()' are incompatible between these types.
2025-02-26T21:39:23.2713408Z         Type '{ resources: ResourcesState; game: GameState; structures: StructuresState; }' is missing the following properties from type 'RootState': tasks, events, progression
2025-02-26T21:39:23.2714316Z 
2025-02-26T21:39:23.2714657Z     [7m73[0m     gameLoop.initialize(store);
2025-02-26T21:39:23.2715262Z     [7m  [0m [91m                        ~~~~~[0m
2025-02-26T21:39:23.2715575Z 
2025-02-26T21:39:23.2715821Z FAIL src/core/GameManager.test.ts
2025-02-26T21:39:23.2716325Z   ● Test suite failed to run
2025-02-26T21:39:23.2716571Z 
2025-02-26T21:39:23.2725274Z     [96msrc/core/GameManager.test.ts[0m:[93m105[0m:[93m25[0m - [91merror[0m[90m TS2352: [0mConversion of type 'ActionCreatorWithPayload<number, "game/addPlayTime">' to type 'Mock<any, any, any>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
2025-02-26T21:39:23.2728268Z       Type 'ActionCreatorWithPayload<number, "game/addPlayTime">' is missing the following properties from type 'Mock<any, any, any>': getMockName, mock, mockClear, mockReset, and 13 more.
2025-02-26T21:39:23.2728998Z 
2025-02-26T21:39:23.2729529Z     [7m105[0m     const timerDelta = (addPlayTime as jest.Mock).mock.calls[0][0];
2025-02-26T21:39:23.2730618Z     [7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:23.2731108Z 
2025-02-26T21:39:23.2731465Z FAIL src/gameCore.integration.test.tsx
2025-02-26T21:39:23.2732204Z   ● Test suite failed to run
2025-02-26T21:39:23.2732453Z 
2025-02-26T21:39:23.2741632Z     [96msrc/gameCore.integration.test.tsx[0m:[93m29[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'Reducer<GameState>' is not assignable to type 'Reducer<GameState, UnknownAction, { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; ... 4 more ...; startDate: number; }>'.
2025-02-26T21:39:23.2742891Z       Types of parameters 'state' and 'state' are incompatible.
2025-02-26T21:39:23.2749202Z         Type 'GameState | { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; } | undefined' is not assignable to type 'GameState | undefined'.
2025-02-26T21:39:23.2757248Z           Type '{ gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.2759106Z 
2025-02-26T21:39:23.2759308Z     [7m29[0m         game: gameReducer,
2025-02-26T21:39:23.2759620Z     [7m  [0m [91m        ~~~~[0m
2025-02-26T21:39:23.2759774Z 
2025-02-26T21:39:23.2759918Z FAIL src/workers.integration.test.tsx
2025-02-26T21:39:23.2760212Z   ● Test suite failed to run
2025-02-26T21:39:23.2760360Z 
2025-02-26T21:39:23.2767932Z     [96msrc/workers.integration.test.tsx[0m:[93m29[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'Reducer<GameState>' is not assignable to type 'Reducer<GameState, UnknownAction, { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; ... 4 more ...; startDate: number; }>'.
2025-02-26T21:39:23.2769199Z       Types of parameters 'state' and 'state' are incompatible.
2025-02-26T21:39:23.2775736Z         Type 'GameState | { gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; } | undefined' is not assignable to type 'GameState | undefined'.
2025-02-26T21:39:23.2783754Z           Type '{ gameStage: number; lastTickTimestamp: number; lastSaveTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; offlineProgressEnabled: boolean; lastSaveTimestamp: number; gameStartTimestamp: number; totalPlayTime: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.2785607Z 
2025-02-26T21:39:23.2785792Z     [7m29[0m         game: gameReducer,
2025-02-26T21:39:23.2786107Z     [7m  [0m [91m        ~~~~[0m
2025-02-26T21:39:23.2786269Z 
2025-02-26T21:39:23.2786408Z FAIL src/systems/gameLoop.test.ts
2025-02-26T21:39:23.2786685Z   ● Test suite failed to run
2025-02-26T21:39:23.2786827Z 
2025-02-26T21:39:23.2789278Z     [96msrc/systems/gameLoop.test.ts[0m:[93m86[0m:[93m55[0m - [91merror[0m[90m TS2345: [0mArgument of type 'number' is not assignable to parameter of type 'Timeout'.
2025-02-26T21:39:23.2789793Z 
2025-02-26T21:39:23.2790394Z     [7m86[0m     jest.spyOn(window, 'setInterval').mockReturnValue(123 as unknown as number);
2025-02-26T21:39:23.2792664Z     [7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:23.2796741Z     [96msrc/systems/gameLoop.test.ts[0m:[93m99[0m:[93m55[0m - [91merror[0m[90m TS2345: [0mArgument of type 'number' is not assignable to parameter of type 'Timeout'.
2025-02-26T21:39:23.2797539Z 
2025-02-26T21:39:23.2798144Z     [7m99[0m     jest.spyOn(window, 'setInterval').mockReturnValue(123 as unknown as number);
2025-02-26T21:39:23.2800051Z     [7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:23.2800416Z 
2025-02-26T21:39:23.2800645Z FAIL src/state/selectors.test.ts
2025-02-26T21:39:23.2801269Z   ● Test suite failed to run
2025-02-26T21:39:23.2801521Z 
2025-02-26T21:39:23.2812160Z     [96msrc/state/selectors.test.ts[0m:[93m94[0m:[93m32[0m - [91merror[0m[90m TS2352: [0mConversion of type '{ resources: { 'collective-power': Resource; solidarity: Resource; 'community-trust': Resource; }; structures: { 'union-office': Structure; 'community-center': Structure; 'alternative-media': Structure; }; game: { ...; }; }' to type 'RootState' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
2025-02-26T21:39:23.2816629Z       Type '{ resources: { 'collective-power': Resource; solidarity: Resource; 'community-trust': Resource; }; structures: { 'union-office': Structure; 'community-center': Structure; 'alternative-media': Structure; }; game: { ...; }; }' is missing the following properties from type 'RootState': tasks, events, progression
2025-02-26T21:39:23.2818318Z 
2025-02-26T21:39:23.2818651Z     [7m 94[0m   const mockState: RootState = {
2025-02-26T21:39:23.2819296Z     [7m   [0m [91m                               ~[0m
2025-02-26T21:39:23.2819846Z     [7m 95[0m     resources: {
2025-02-26T21:39:23.2820376Z     [7m   [0m [91m~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:23.2820831Z     [7m...[0m 
2025-02-26T21:39:23.2821370Z     [7m112[0m     },
2025-02-26T21:39:23.2821802Z     [7m   [0m [91m~~~~~~[0m
2025-02-26T21:39:23.2822284Z     [7m113[0m   } as RootState;
2025-02-26T21:39:23.2822812Z     [7m   [0m [91m~~~~~~~~~~~~~~~~[0m
2025-02-26T21:39:23.2823090Z 
2025-02-26T21:39:23.2823580Z FAIL src/components/progression/__tests__/ProgressionTracker.test.tsx
2025-02-26T21:39:23.2824793Z   ● ProgressionTracker › should render the progression tracker with stage and milestone information
2025-02-26T21:39:23.2825425Z 
2025-02-26T21:39:23.2832466Z     TestingLibraryElementError: Unable to find an element with the text: Progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:23.2833834Z 
2025-02-26T21:39:23.2834067Z     Ignored nodes: comments, script, style
2025-02-26T21:39:23.2834595Z     [36m<body>[39m
2025-02-26T21:39:23.2834982Z       [36m<div>[39m
2025-02-26T21:39:23.2835357Z         [36m<div[39m
2025-02-26T21:39:23.2835908Z           [33mclass[39m=[32m"progression-tracker"[39m
2025-02-26T21:39:23.2836435Z         [36m>[39m
2025-02-26T21:39:23.2836825Z           [36m<h3>[39m
2025-02-26T21:39:23.2837289Z             [0mOverall Progress[0m
2025-02-26T21:39:23.2837751Z           [36m</h3>[39m
2025-02-26T21:39:23.2838147Z           [36m<div[39m
2025-02-26T21:39:23.2838698Z             [33mclass[39m=[32m"stage-indicator"[39m
2025-02-26T21:39:23.2839193Z           [36m>[39m
2025-02-26T21:39:23.2839554Z             [36m<span[39m
2025-02-26T21:39:23.2840090Z               [33mclass[39m=[32m"stage-label"[39m
2025-02-26T21:39:23.2840574Z             [36m>[39m
2025-02-26T21:39:23.2841174Z               [0mCurrent Stage:[0m
2025-02-26T21:39:23.2841654Z             [36m</span>[39m
2025-02-26T21:39:23.2842074Z             [36m<span[39m
2025-02-26T21:39:23.2842606Z               [33mclass[39m=[32m"stage-value"[39m
2025-02-26T21:39:23.2843087Z             [36m>[39m
2025-02-26T21:39:23.2843535Z               [0mEarly Stage[0m
2025-02-26T21:39:23.2843977Z             [36m</span>[39m
2025-02-26T21:39:23.2844655Z           [36m</div>[39m
2025-02-26T21:39:23.2845052Z           [36m<div[39m
2025-02-26T21:39:23.2845613Z             [33mclass[39m=[32m"completion-percentage"[39m
2025-02-26T21:39:23.2846155Z           [36m>[39m
2025-02-26T21:39:23.2846758Z             [36m<span[39m
2025-02-26T21:39:23.2847309Z               [33mclass[39m=[32m"progress-label"[39m
2025-02-26T21:39:23.2847837Z             [36m>[39m
2025-02-26T21:39:23.2848414Z               [0mGame Completion:[0m
2025-02-26T21:39:23.2848902Z             [36m</span>[39m
2025-02-26T21:39:23.2849535Z             [36m<span[39m
2025-02-26T21:39:23.2850619Z               [33mclass[39m=[32m"progress-value"[39m
2025-02-26T21:39:23.2851343Z             [36m>[39m
2025-02-26T21:39:23.2851857Z               [0m50[0m
2025-02-26T21:39:23.2852340Z               [0m%[0m
2025-02-26T21:39:23.2852845Z             [36m</span>[39m
2025-02-26T21:39:23.2853349Z             [36m<div[39m
2025-02-26T21:39:23.2853978Z               [33mclass[39m=[32m"progress-bar"[39m
2025-02-26T21:39:23.2854489Z             [36m>[39m
2025-02-26T21:39:23.2854989Z               [36m<div[39m
2025-02-26T21:39:23.2855671Z                 [33mclass[39m=[32m"progress-bar-fill"[39m
2025-02-26T21:39:23.2856402Z                 [33mstyle[39m=[32m"width: 50%;"[39m
2025-02-26T21:39:23.2858029Z               [36m/>[39m
2025-02-26T21:39:23.2858502Z             [36m</div>[39m
2025-02-26T21:39:23.2858943Z           [36m</div>[39m
2025-02-26T21:39:23.2859356Z         [36m</div>[39m
2025-02-26T21:39:23.2859733Z       [36m</div>[39m
2025-02-26T21:39:23.2860116Z     [36m</body>[39m
2025-02-26T21:39:23.2860327Z 
2025-02-26T21:39:23.2860558Z     [0m [90m 144 |[39m     
2025-02-26T21:39:23.2861421Z      [90m 145 |[39m     [90m// Check that the component renders[39m
2025-02-26T21:39:23.2863983Z     [31m[1m>[22m[39m[90m 146 |[39m     expect(screen[33m.[39mgetByText([32m'Progress'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.2864879Z      [90m     |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:23.2865400Z      [90m 147 |[39m     
2025-02-26T21:39:23.2866195Z      [90m 148 |[39m     [90m// Check that stage indicator shows correct stage[39m
2025-02-26T21:39:23.2867285Z      [90m 149 |[39m     expect(screen[33m.[39mgetByText([32m'Current Stage:'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m
2025-02-26T21:39:23.2867748Z 
2025-02-26T21:39:23.2868346Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:23.2869239Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:23.2870001Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:23.2870744Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:23.2872544Z       at Object.<anonymous> (src/components/progression/__tests__/ProgressionTracker.test.tsx:146:19)
2025-02-26T21:39:23.2873167Z 
2025-02-26T21:39:23.2873929Z FAIL src/components/buildings/__tests__/BuildingList.test.tsx
2025-02-26T21:39:23.2875073Z   ● BuildingList › should render only unlocked buildings
2025-02-26T21:39:23.2875443Z 
2025-02-26T21:39:23.2875768Z     expect(element).not.toBeInTheDocument()
2025-02-26T21:39:23.2876108Z 
2025-02-26T21:39:23.2878845Z     expected document not to contain element, found <strong style="color: rgb(196, 163, 255);">Building 3</strong> instead
2025-02-26T21:39:23.2879538Z 
2025-02-26T21:39:23.2879711Z     [0m [90m 102 |[39m     
2025-02-26T21:39:23.2880420Z      [90m 103 |[39m     [90m// Should not render the locked building[39m
2025-02-26T21:39:23.2884345Z     [31m[1m>[22m[39m[90m 104 |[39m     expect(screen[33m.[39mqueryByText([32m'Building 3'[39m))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.2885417Z      [90m     |[39m                                                  [31m[1m^[22m[39m
2025-02-26T21:39:23.2886000Z      [90m 105 |[39m   })[33m;[39m
2025-02-26T21:39:23.2886685Z      [90m 106 |[39m   
2025-02-26T21:39:23.2889707Z      [90m 107 |[39m   it([32m'should render empty state when no buildings are unlocked'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:23.2890352Z 
2025-02-26T21:39:23.2891217Z       at Object.<anonymous> (src/components/buildings/__tests__/BuildingList.test.tsx:104:50)
2025-02-26T21:39:23.2891786Z 
2025-02-26T21:39:23.2892567Z   ● BuildingList › should render empty state when no buildings are unlocked
2025-02-26T21:39:23.2893036Z 
2025-02-26T21:39:23.2899266Z     TestingLibraryElementError: Unable to find an element with the text: No buildings available yet. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:23.2900656Z 
2025-02-26T21:39:23.2900794Z     Ignored nodes: comments, script, style
2025-02-26T21:39:23.2901294Z     [36m<body>[39m
2025-02-26T21:39:23.2901519Z       [36m<div>[39m
2025-02-26T21:39:23.2901750Z         [36m<div[39m
2025-02-26T21:39:23.2905743Z           [33mstyle[39m=[32m"padding: 1rem; border: 1px solid #363030; border-radius: 4px; margin: 1rem 0px; background-color: rgb(39, 37, 45); color: rgb(176, 158, 158); box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);"[39m
2025-02-26T21:39:23.2906950Z         [36m>[39m
2025-02-26T21:39:23.2907304Z           [36m<h2[39m
2025-02-26T21:39:23.2907860Z             [33mstyle[39m=[32m"color: rgb(196, 163, 255);"[39m
2025-02-26T21:39:23.2908365Z           [36m>[39m
2025-02-26T21:39:23.2908740Z             [0mBuildings[0m
2025-02-26T21:39:23.2909139Z           [36m</h2>[39m
2025-02-26T21:39:23.2909520Z           [36m<p>[39m
2025-02-26T21:39:23.2910138Z             [0mThis is a simplified buildings view for debugging.[0m
2025-02-26T21:39:23.2910695Z           [36m</p>[39m
2025-02-26T21:39:23.2911235Z           [36m<div[39m
2025-02-26T21:39:23.2916345Z             [33mstyle[39m=[32m"background-color: rgb(38, 32, 32); padding: 0.5rem; border-radius: 4px; margin-bottom: 1rem; font-size: 0.8rem; font-family: monospace; border: 1px solid #363030;"[39m
2025-02-26T21:39:23.2917522Z           [36m>[39m
2025-02-26T21:39:23.2917900Z             [36m<p>[39m
2025-02-26T21:39:23.2918419Z               [0mInitialization attempted: [0m
2025-02-26T21:39:23.2918904Z               [0mYes[0m
2025-02-26T21:39:23.2919293Z             [36m</p>[39m
2025-02-26T21:39:23.2919678Z             [36m<p>[39m
2025-02-26T21:39:23.2920151Z               [0mStructures state type: [0m
2025-02-26T21:39:23.2920631Z               [0mobject[0m
2025-02-26T21:39:23.2921192Z             [36m</p>[39m
2025-02-26T21:39:23.2921588Z             [36m<p>[39m
2025-02-26T21:39:23.2922065Z               [0mIs structures object: [0m
2025-02-26T21:39:23.2922523Z               [0mYes[0m
2025-02-26T21:39:23.2923020Z             [36m</p>[39m
2025-02-26T21:39:23.2923499Z             [36m<p>[39m
2025-02-26T21:39:23.2924316Z               [0mStructures keys: [0m
2025-02-26T21:39:23.2925005Z               [0m["building1"][0m
2025-02-26T21:39:23.2925527Z             [36m</p>[39m
2025-02-26T21:39:23.2926036Z           [36m</div>[39m
2025-02-26T21:39:23.2926554Z           [36m<div>[39m
2025-02-26T21:39:23.2927092Z             [36m<p>[39m
2025-02-26T21:39:23.2928049Z               [0mBuildings available: [0m
2025-02-26T21:39:23.2928527Z               [0m1[0m
2025-02-26T21:39:23.2928909Z             [36m</p>[39m
2025-02-26T21:39:23.2929429Z             [36m<ul>[39m
2025-02-26T21:39:23.2929971Z               [36m<li[39m
2025-02-26T21:39:23.2934413Z                 [33mstyle[39m=[32m"margin: 0.5rem 0px; padding: 0.5rem; background-color: rgb(38, 32, 32); border-radius: 4px; border: 1px solid #363030;"[39m
2025-02-26T21:39:23.2935375Z               [36m>[39m
2025-02-26T21:39:23.2935814Z                 [36m<strong[39m
2025-02-26T21:39:23.2936443Z                   [33mstyle[39m=[32m"color: rgb(196, 163, 255);"[39m
2025-02-26T21:39:23.2937197Z                 [36m>[39m
2025-02-26T21:39:23.2937655Z                   [0mBuilding 1[0m
2025-02-26T21:39:23.2938295Z                 [36m</strong>[39m
2025-02-26T21:39:23.2938776Z                 [0m(Level: [0m
2025-02-26T21:39:23.2939370Z                 [0m1[0m
2025-02-26T21:39:23.2939758Z                 [0m) -[0m
2025-02-26T21:39:23.2940275Z                 [36m<span[39m
2025-02-26T21:39:23.2942026Z                   [33mstyle[39m=[32m"color: rgb(151, 137, 172);"[39m
2025-02-26T21:39:23.2942570Z                 [36m>[39m
2025-02-26T21:39:23.2943055Z                   [0mLocked[0m
2025-02-26T21:39:23.2943719Z                 [36m</span>[39m
2025-02-26T21:39:23.2944292Z               [36m</li>[39m
2025-02-26T21:39:23.2944948Z             [36m</ul>[39m
2025-02-26T21:39:23.2945386Z           [36m</div>[39m
2025-02-26T21:39:23.2945831Z         [36m</div>[39m
2025-02-26T21:39:23.2946281Z       [36m</div>[39m
2025-02-26T21:39:23.2946721Z     [36m</body>[39m
2025-02-26T21:39:23.2946936Z 
2025-02-26T21:39:23.2947385Z     [0m [90m 132 |[39m     
2025-02-26T21:39:23.2949216Z      [90m 133 |[39m     [90m// Should render the empty state message[39m
2025-02-26T21:39:23.2953208Z     [31m[1m>[22m[39m[90m 134 |[39m     expect(screen[33m.[39mgetByText([32m'No buildings available yet'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.2954281Z      [90m     |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:23.2954844Z      [90m 135 |[39m   })[33m;[39m
2025-02-26T21:39:23.2955351Z      [90m 136 |[39m })[33m;[39m[0m
2025-02-26T21:39:23.2955618Z 
2025-02-26T21:39:23.2956793Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:23.2958064Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:23.2959723Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:23.2960840Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:23.2963091Z       at Object.<anonymous> (src/components/buildings/__tests__/BuildingList.test.tsx:134:19)
2025-02-26T21:39:23.2963623Z 
2025-02-26T21:39:23.2963895Z FAIL src/components/__tests__/GameTimer.test.tsx
2025-02-26T21:39:23.2964748Z   ● GameTimer › should render the game time
2025-02-26T21:39:23.2965035Z 
2025-02-26T21:39:23.2971138Z     TestingLibraryElementError: Unable to find an element with the text: Day 3. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:23.2972433Z 
2025-02-26T21:39:23.2972657Z     Ignored nodes: comments, script, style
2025-02-26T21:39:23.2973170Z     [36m<body>[39m
2025-02-26T21:39:23.2973532Z       [36m<div>[39m
2025-02-26T21:39:23.2973894Z         [36m<div[39m
2025-02-26T21:39:23.2974374Z           [33mclass[39m=[32m"game-timer "[39m
2025-02-26T21:39:23.2974829Z         [36m>[39m
2025-02-26T21:39:23.2975409Z           [36m<div[39m
2025-02-26T21:39:23.2976281Z             [33mclass[39m=[32m"counter "[39m
2025-02-26T21:39:23.2976871Z           [36m>[39m
2025-02-26T21:39:23.2977441Z             [36m<div[39m
2025-02-26T21:39:23.2995031Z               [33mclass[39m=[32m"counter-container"[39m
2025-02-26T21:39:23.2995684Z             [36m>[39m
2025-02-26T21:39:23.2996073Z               [36m<div[39m
2025-02-26T21:39:23.2996655Z                 [33mclass[39m=[32m"counter-display"[39m
2025-02-26T21:39:23.2997144Z               [36m>[39m
2025-02-26T21:39:23.2997578Z                 [36m<span[39m
2025-02-26T21:39:23.2998051Z                   [33mclass[39m=[32m"counter-icon day"[39m
2025-02-26T21:39:23.2998615Z                   [33mtitle[39m=[32m"day"[39m
2025-02-26T21:39:23.2999071Z                 [36m>[39m
2025-02-26T21:39:23.2999367Z                   [0m☀[0m
2025-02-26T21:39:23.2999644Z                 [36m</span>[39m
2025-02-26T21:39:23.3000265Z                 [36m<span[39m
2025-02-26T21:39:23.3000704Z                   [33mclass[39m=[32m"counter-value"[39m
2025-02-26T21:39:23.3001152Z                 [36m>[39m
2025-02-26T21:39:23.3001413Z                   [0mDay 1[0m
2025-02-26T21:39:23.3001980Z                 [36m</span>[39m
2025-02-26T21:39:23.3002340Z                 [36m<span[39m
2025-02-26T21:39:23.3002778Z                   [33mclass[39m=[32m"counter-rate neutral dropdown-trigger"[39m
2025-02-26T21:39:23.3003337Z                   [33mtitle[39m=[32m"Click for options"[39m
2025-02-26T21:39:23.3003638Z                 [36m>[39m
2025-02-26T21:39:23.3003873Z                   [0m1x[0m
2025-02-26T21:39:23.3004182Z                 [36m</span>[39m
2025-02-26T21:39:23.3004528Z               [36m</div>[39m
2025-02-26T21:39:23.3004770Z             [36m</div>[39m
2025-02-26T21:39:23.3004998Z           [36m</div>[39m
2025-02-26T21:39:23.3005229Z         [36m</div>[39m
2025-02-26T21:39:23.3005449Z       [36m</div>[39m
2025-02-26T21:39:23.3005672Z       [36m<div[39m
2025-02-26T21:39:23.3005955Z         [33mid[39m=[32m"dropdown-portal"[39m
2025-02-26T21:39:23.3006319Z       [36m/>[39m
2025-02-26T21:39:23.3006577Z     [36m</body>[39m
2025-02-26T21:39:23.3006714Z 
2025-02-26T21:39:23.3006827Z     [0m [90m 48 |[39m     
2025-02-26T21:39:23.3007400Z      [90m 49 |[39m     [90m// Check the rendered output - Day 3 because 120 seconds / 60 seconds per day = day 3[39m
2025-02-26T21:39:23.3008353Z     [31m[1m>[22m[39m[90m 50 |[39m     expect(screen[33m.[39mgetByText([32m'Day 3'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.3009049Z      [90m    |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:23.3009377Z      [90m 51 |[39m   })[33m;[39m
2025-02-26T21:39:23.3009637Z      [90m 52 |[39m   
2025-02-26T21:39:23.3010095Z      [90m 53 |[39m   it([32m'should show time scale when not 1x'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:23.3010390Z 
2025-02-26T21:39:23.3010668Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:23.3011634Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:23.3012408Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:23.3013158Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:23.3013980Z       at Object.<anonymous> (src/components/__tests__/GameTimer.test.tsx:50:19)
2025-02-26T21:39:23.3014461Z 
2025-02-26T21:39:23.3014844Z FAIL src/components/__tests__/OfflineProgressModal.test.tsx
2025-02-26T21:39:23.3015795Z   ● OfflineProgressModal › should call onClose when close button is clicked
2025-02-26T21:39:23.3016298Z 
2025-02-26T21:39:23.3016503Z     expect(jest.fn()).toHaveBeenCalled()
2025-02-26T21:39:23.3016810Z 
2025-02-26T21:39:23.3017000Z     Expected number of calls: >= 1
2025-02-26T21:39:23.3017460Z     Received number of calls:    0
2025-02-26T21:39:23.3017735Z 
2025-02-26T21:39:23.3017935Z     [0m [90m 78 |[39m     
2025-02-26T21:39:23.3018537Z      [90m 79 |[39m     [90m// Check if handleClose was called[39m
2025-02-26T21:39:23.3019510Z     [31m[1m>[22m[39m[90m 80 |[39m     expect(handleClose)[33m.[39mtoHaveBeenCalled()[33m;[39m
2025-02-26T21:39:23.3020209Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:23.3020536Z      [90m 81 |[39m   })[33m;[39m
2025-02-26T21:39:23.3020792Z      [90m 82 |[39m   
2025-02-26T21:39:23.3021452Z      [90m 83 |[39m   it([32m'should not render when isOpen is false'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:23.3021754Z 
2025-02-26T21:39:23.3022037Z       at Object.<anonymous> (src/components/__tests__/OfflineProgressModal.test.tsx:80:25)
2025-02-26T21:39:23.3022352Z 
2025-02-26T21:39:23.3022500Z FAIL src/components/App.test.tsx
2025-02-26T21:39:23.3022779Z   ● Test suite failed to run
2025-02-26T21:39:23.3022931Z 
2025-02-26T21:39:23.3023065Z     ReferenceError: TextEncoder is not defined
2025-02-26T21:39:23.3023441Z 
2025-02-26T21:39:23.3024220Z     [0m [90m 1 |[39m [36mimport[39m [33mReact[39m[33m,[39m { useEffect[33m,[39m useRef[33m,[39m useState } [36mfrom[39m [32m'react'[39m[33m;[39m
2025-02-26T21:39:23.3026519Z     [31m[1m>[22m[39m[90m 2 |[39m [36mimport[39m { [33mBrowserRouter[39m [36mas[39m [33mRouter[39m[33m,[39m [33mRoutes[39m[33m,[39m [33mRoute[39m } [36mfrom[39m [32m'react-router-dom'[39m[33m;[39m
2025-02-26T21:39:23.3027729Z      [90m   |[39m [31m[1m^[22m[39m
2025-02-26T21:39:23.3028824Z      [90m 3 |[39m [36mimport[39m { useAppDispatch[33m,[39m useAppSelector } [36mfrom[39m [32m'../state/hooks'[39m[33m;[39m
2025-02-26T21:39:23.3029744Z      [90m 4 |[39m [36mimport[39m { 
2025-02-26T21:39:23.3030343Z      [90m 5 |[39m   selectAllResources[33m,[39m [0m
2025-02-26T21:39:23.3030671Z 
2025-02-26T21:39:23.3031262Z       at Object.<anonymous> (node_modules/react-router/dist/development/index.js:8510:15)
2025-02-26T21:39:23.3032747Z       at Object.<anonymous> (node_modules/react-router-dom/dist/index.js:39:38)
2025-02-26T21:39:23.3033679Z       at Object.require (src/components/App.tsx:2:1)
2025-02-26T21:39:23.3035002Z       at Object.<anonymous> (src/components/App.test.tsx:8:1)
2025-02-26T21:39:23.3035388Z 
2025-02-26T21:39:23.3035759Z FAIL src/components/GameTimer.test.tsx
2025-02-26T21:39:23.3037084Z   ● GameTimer › renders day counter with correct values
2025-02-26T21:39:23.3037457Z 
2025-02-26T21:39:23.3037812Z     expect(element).toHaveTextContent()
2025-02-26T21:39:23.3038122Z 
2025-02-26T21:39:23.3038323Z     Expected element to have text content:
2025-02-26T21:39:23.3038740Z       Day 3
2025-02-26T21:39:23.3039015Z     Received:
2025-02-26T21:39:23.3039303Z       Day 1
2025-02-26T21:39:23.3039461Z 
2025-02-26T21:39:23.3041242Z     [0m [90m 48 |[39m     [90m// but the test uses a mock store with totalPlayTime: 120,[39m
2025-02-26T21:39:23.3042719Z      [90m 49 |[39m     [90m// so it should still show Day 3 (since 120/60 + 1 = 3)[39m
2025-02-26T21:39:23.3046551Z     [31m[1m>[22m[39m[90m 50 |[39m     expect(screen[33m.[39mgetByTestId([32m'counter-value'[39m))[33m.[39mtoHaveTextContent([32m'Day 3'[39m)[33m;[39m
2025-02-26T21:39:23.3047551Z      [90m    |[39m                                                 [31m[1m^[22m[39m
2025-02-26T21:39:23.3051076Z      [90m 51 |[39m     expect(screen[33m.[39mgetByTestId([32m'counter-rate'[39m))[33m.[39mtoHaveTextContent([32m'1x'[39m)[33m;[39m
2025-02-26T21:39:23.3052037Z      [90m 52 |[39m   })[33m;[39m
2025-02-26T21:39:23.3052472Z      [90m 53 |[39m[0m
2025-02-26T21:39:23.3052684Z 
2025-02-26T21:39:23.3053033Z       at Object.<anonymous> (src/components/GameTimer.test.tsx:50:49)
2025-02-26T21:39:23.3053453Z 
2025-02-26T21:39:23.3053800Z FAIL src/state/gameSlice.test.ts
2025-02-26T21:39:23.3054312Z   ● Test suite failed to run
2025-02-26T21:39:23.3054568Z 
2025-02-26T21:39:23.3062363Z     [96msrc/state/gameSlice.test.ts[0m:[93m34[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:23.3066818Z       Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.3068167Z 
2025-02-26T21:39:23.3068668Z     [7m34[0m     const actual = gameReducer(initialState, setGameStage(1));
2025-02-26T21:39:23.3069443Z     [7m  [0m [91m                               ~~~~~~~~~~~~[0m
2025-02-26T21:39:23.3076267Z     [96msrc/state/gameSlice.test.ts[0m:[93m44[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:23.3080762Z       Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.3082421Z 
2025-02-26T21:39:23.3082967Z     [7m44[0m     const actual = gameReducer(initialState, updateLastSaveTime());
2025-02-26T21:39:23.3083754Z     [7m  [0m [91m                               ~~~~~~~~~~~~[0m
2025-02-26T21:39:23.3090333Z     [96msrc/state/gameSlice.test.ts[0m:[93m54[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ totalPlayTime: number; gameStage: number; lastSaveTime: any; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:23.3095011Z       Type '{ totalPlayTime: number; gameStage: number; lastSaveTime: any; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.3096257Z 
2025-02-26T21:39:23.3096790Z     [7m54[0m     const actual = gameReducer(startState, addPlayTime(timeToAdd));
2025-02-26T21:39:23.3097581Z     [7m  [0m [91m                               ~~~~~~~~~~[0m
2025-02-26T21:39:23.3104635Z     [96msrc/state/gameSlice.test.ts[0m:[93m60[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:23.3109081Z       Type '{ gameStage: number; lastSaveTime: any; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: any; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.3110308Z 
2025-02-26T21:39:23.3111045Z     [7m60[0m     const actual = gameReducer(initialState, setTotalPlayTime(newPlayTime));
2025-02-26T21:39:23.3111911Z     [7m  [0m [91m                               ~~~~~~~~~~~~[0m
2025-02-26T21:39:23.3118938Z     [96msrc/state/gameSlice.test.ts[0m:[93m74[0m:[93m32[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: number; }' is not assignable to parameter of type 'GameState'.
2025-02-26T21:39:23.3123726Z       Type '{ gameStage: number; lastSaveTime: number; totalPlayTime: number; isRunning: boolean; tickRate: number; gameTimeScale: number; startDate: number; }' is missing the following properties from type 'GameState': gameEnded, gameWon, endReason
2025-02-26T21:39:23.3125133Z 
2025-02-26T21:39:23.3125631Z     [7m74[0m     const actual = gameReducer(modifiedState, resetGame());
2025-02-26T21:39:23.3126384Z     [7m  [0m [91m                               ~~~~~~~~~~~~~[0m
2025-02-26T21:39:23.3126698Z 
2025-02-26T21:39:23.3127126Z FAIL src/components/resources/__tests__/ResourceDisplay.test.tsx
2025-02-26T21:39:23.3128784Z   ● ResourceDisplay Component › renders resource display with correct information
2025-02-26T21:39:23.3129308Z 
2025-02-26T21:39:23.3135404Z     TestingLibraryElementError: Unable to find an element with the text: Collective Bargaining Power. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.
2025-02-26T21:39:23.3136787Z 
2025-02-26T21:39:23.3136918Z     Ignored nodes: comments, script, style
2025-02-26T21:39:23.3137427Z     [36m<body>[39m
2025-02-26T21:39:23.3137796Z       [36m<div>[39m
2025-02-26T21:39:23.3138159Z         [36m<div[39m
2025-02-26T21:39:23.3138690Z           [33mclass[39m=[32m"resource-display   "[39m
2025-02-26T21:39:23.3139397Z         [36m>[39m
2025-02-26T21:39:23.3139765Z           [36m<div[39m
2025-02-26T21:39:23.3140255Z             [33mclass[39m=[32m"counter "[39m
2025-02-26T21:39:23.3140717Z           [36m>[39m
2025-02-26T21:39:23.3141499Z             [36m<div[39m
2025-02-26T21:39:23.3142041Z               [33mclass[39m=[32m"counter-container"[39m
2025-02-26T21:39:23.3142539Z             [36m>[39m
2025-02-26T21:39:23.3142929Z               [36m<div[39m
2025-02-26T21:39:23.3143600Z                 [33mclass[39m=[32m"counter-display"[39m
2025-02-26T21:39:23.3144092Z               [36m>[39m
2025-02-26T21:39:23.3144655Z                 [36m<div[39m
2025-02-26T21:39:23.3145866Z                   [33maria-hidden[39m=[32m"true"[39m
2025-02-26T21:39:23.3147482Z                   [33mclass[39m=[32m"counter-progress default"[39m
2025-02-26T21:39:23.3148461Z                   [33mstyle[39m=[32m"width: 10%;"[39m
2025-02-26T21:39:23.3148957Z                 [36m/>[39m
2025-02-26T21:39:23.3149476Z                 [36m<span[39m
2025-02-26T21:39:23.3151296Z                   [33mclass[39m=[32m"counter-icon default"[39m
2025-02-26T21:39:23.3152013Z                   [33mtitle[39m=[32m"default"[39m
2025-02-26T21:39:23.3152647Z                 [36m>[39m
2025-02-26T21:39:23.3153167Z                   [0m■[0m
2025-02-26T21:39:23.3153698Z                 [36m</span>[39m
2025-02-26T21:39:23.3154199Z                 [36m<span[39m
2025-02-26T21:39:23.3155528Z                   [33mclass[39m=[32m"counter-value"[39m
2025-02-26T21:39:23.3156035Z                 [36m>[39m
2025-02-26T21:39:23.3156703Z                   [0m100 / 1000[0m
2025-02-26T21:39:23.3157389Z                 [36m</span>[39m
2025-02-26T21:39:23.3158013Z                 [36m<span[39m
2025-02-26T21:39:23.3159542Z                   [33mclass[39m=[32m"counter-rate positive "[39m
2025-02-26T21:39:23.3160076Z                 [36m>[39m
2025-02-26T21:39:23.3160598Z                   [0m+5/sec[0m
2025-02-26T21:39:23.3161426Z                 [36m</span>[39m
2025-02-26T21:39:23.3162036Z               [36m</div>[39m
2025-02-26T21:39:23.3162606Z             [36m</div>[39m
2025-02-26T21:39:23.3163139Z           [36m</div>[39m
2025-02-26T21:39:23.3163604Z         [36m</div>[39m
2025-02-26T21:39:23.3164035Z       [36m</div>[39m
2025-02-26T21:39:23.3164480Z     [36m</body>[39m
2025-02-26T21:39:23.3164689Z 
2025-02-26T21:39:23.3165131Z     [0m [90m 24 |[39m     
2025-02-26T21:39:23.3167077Z      [90m 25 |[39m     [90m// Check if name and amounts are rendered[39m
2025-02-26T21:39:23.3170827Z     [31m[1m>[22m[39m[90m 26 |[39m     expect(screen[33m.[39mgetByText([32m'Collective Bargaining Power'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.3172099Z      [90m    |[39m                   [31m[1m^[22m[39m
2025-02-26T21:39:23.3173982Z      [90m 27 |[39m     expect(screen[33m.[39mgetByText([32m'100 / 1000'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.3176668Z      [90m 28 |[39m     expect(screen[33m.[39mgetByText([32m'+5/sec'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
2025-02-26T21:39:23.3177504Z      [90m 29 |[39m   })[33m;[39m[0m
2025-02-26T21:39:23.3177795Z 
2025-02-26T21:39:23.3178705Z       at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
2025-02-26T21:39:23.3180055Z       at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
2025-02-26T21:39:23.3181648Z       at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
2025-02-26T21:39:23.3183003Z       at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
2025-02-26T21:39:23.3185280Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:26:19)
2025-02-26T21:39:23.3185858Z 
2025-02-26T21:39:23.3186605Z   ● ResourceDisplay Component › renders progress bar with correct percentage
2025-02-26T21:39:23.3187097Z 
2025-02-26T21:39:23.3187285Z     expect(received).toHaveStyle()
2025-02-26T21:39:23.3187789Z 
2025-02-26T21:39:23.3188273Z     received value must be an HTMLElement or an SVGElement.
2025-02-26T21:39:23.3188800Z     Received has value: null
2025-02-26T21:39:23.3189042Z 
2025-02-26T21:39:23.3190809Z     [0m [90m 34 |[39m     [90m// Resource is at 10% capacity (100/1000)[39m
2025-02-26T21:39:23.3194340Z      [90m 35 |[39m     [36mconst[39m progressBar [33m=[39m document[33m.[39mquerySelector([32m'.resource-progress-bar'[39m)[33m;[39m
2025-02-26T21:39:23.3196451Z     [31m[1m>[22m[39m[90m 36 |[39m     expect(progressBar)[33m.[39mtoHaveStyle([32m'width: 10%'[39m)[33m;[39m
2025-02-26T21:39:23.3197370Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:23.3197933Z      [90m 37 |[39m   })[33m;[39m
2025-02-26T21:39:23.3198358Z      [90m 38 |[39m   
2025-02-26T21:39:23.3201040Z      [90m 39 |[39m   test([32m'handles empty resource gracefully'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:23.3201576Z 
2025-02-26T21:39:23.3202134Z       at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
2025-02-26T21:39:23.3204155Z       at Object.throwingMatcher [as toHaveStyle] (node_modules/expect/build/index.js:326:15)
2025-02-26T21:39:23.3206027Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:36:25)
2025-02-26T21:39:23.3206607Z 
2025-02-26T21:39:23.3207068Z   ● ResourceDisplay Component › handles empty resource gracefully
2025-02-26T21:39:23.3207497Z 
2025-02-26T21:39:23.3207684Z     expect(received).toHaveStyle()
2025-02-26T21:39:23.3207958Z 
2025-02-26T21:39:23.3208783Z     received value must be an HTMLElement or an SVGElement.
2025-02-26T21:39:23.3209291Z     Received has value: null
2025-02-26T21:39:23.3209535Z 
2025-02-26T21:39:23.3209902Z     [0m [90m 50 |[39m     
2025-02-26T21:39:23.3214005Z      [90m 51 |[39m     [36mconst[39m progressBar [33m=[39m document[33m.[39mquerySelector([32m'.resource-progress-bar'[39m)[33m;[39m
2025-02-26T21:39:23.3215931Z     [31m[1m>[22m[39m[90m 52 |[39m     expect(progressBar)[33m.[39mtoHaveStyle([32m'width: 0%'[39m)[33m;[39m
2025-02-26T21:39:23.3216763Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:23.3217401Z      [90m 53 |[39m   })[33m;[39m
2025-02-26T21:39:23.3217831Z      [90m 54 |[39m   
2025-02-26T21:39:23.3220546Z      [90m 55 |[39m   test([32m'handles max resource correctly'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:23.3221385Z 
2025-02-26T21:39:23.3221783Z       at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
2025-02-26T21:39:23.3223823Z       at Object.throwingMatcher [as toHaveStyle] (node_modules/expect/build/index.js:326:15)
2025-02-26T21:39:23.3225894Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:52:25)
2025-02-26T21:39:23.3226574Z 
2025-02-26T21:39:23.3227631Z   ● ResourceDisplay Component › handles max resource correctly
2025-02-26T21:39:23.3228065Z 
2025-02-26T21:39:23.3228273Z     expect(received).toHaveStyle()
2025-02-26T21:39:23.3228545Z 
2025-02-26T21:39:23.3228830Z     received value must be an HTMLElement or an SVGElement.
2025-02-26T21:39:23.3229341Z     Received has value: null
2025-02-26T21:39:23.3229596Z 
2025-02-26T21:39:23.3229794Z     [0m [90m 64 |[39m     
2025-02-26T21:39:23.3233455Z      [90m 65 |[39m     [36mconst[39m progressBar [33m=[39m document[33m.[39mquerySelector([32m'.resource-progress-bar'[39m)[33m;[39m
2025-02-26T21:39:23.3235644Z     [31m[1m>[22m[39m[90m 66 |[39m     expect(progressBar)[33m.[39mtoHaveStyle([32m'width: 100%'[39m)[33m;[39m
2025-02-26T21:39:23.3236513Z      [90m    |[39m                         [31m[1m^[22m[39m
2025-02-26T21:39:23.3237064Z      [90m 67 |[39m   })[33m;[39m
2025-02-26T21:39:23.3237485Z      [90m 68 |[39m   
2025-02-26T21:39:23.3239986Z      [90m 69 |[39m   test([32m'applies custom className'[39m[33m,[39m () [33m=>[39m {[0m
2025-02-26T21:39:23.3240581Z 
2025-02-26T21:39:23.3241224Z       at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
2025-02-26T21:39:23.3243261Z       at Object.throwingMatcher [as toHaveStyle] (node_modules/expect/build/index.js:326:15)
2025-02-26T21:39:23.3245097Z       at Object.<anonymous> (src/components/resources/__tests__/ResourceDisplay.test.tsx:66:25)
2025-02-26T21:39:23.3245782Z 
2025-02-26T21:39:23.3245971Z FAIL src/structure.test.ts
2025-02-26T21:39:23.3246803Z   ● Project Structure › has the required directories
2025-02-26T21:39:23.3247274Z 
2025-02-26T21:39:23.3247554Z     expect(received).toBeTruthy()
2025-02-26T21:39:23.3247917Z 
2025-02-26T21:39:23.3248043Z     Received: false
2025-02-26T21:39:23.3248236Z 
2025-02-26T21:39:23.3248421Z     [0m [90m 15 |[39m
2025-02-26T21:39:23.3250271Z      [90m 16 |[39m     [36mfor[39m ([36mconst[39m dir [36mof[39m requiredDirs) {
2025-02-26T21:39:23.3253226Z     [31m[1m>[22m[39m[90m 17 |[39m       expect(isDirectory([32m'src'[39m[33m,[39m dir))[33m.[39mtoBeTruthy()[33m;[39m
2025-02-26T21:39:23.3254253Z      [90m    |[39m                                       [31m[1m^[22m[39m
2025-02-26T21:39:23.3254897Z      [90m 18 |[39m     }
2025-02-26T21:39:23.3255466Z      [90m 19 |[39m   })[33m;[39m
2025-02-26T21:39:23.3255916Z      [90m 20 |[39m[0m
2025-02-26T21:39:23.3256127Z 
2025-02-26T21:39:23.3257016Z       at Object.<anonymous> (src/structure.test.ts:17:39)
2025-02-26T21:39:23.3257374Z 
2025-02-26T21:39:23.3257383Z 
2025-02-26T21:39:23.3261091Z Test Suites: 22 failed, 33 passed, 55 total
2025-02-26T21:39:23.3261677Z Tests:       20 failed, 278 passed, 298 total
2025-02-26T21:39:23.3262014Z Snapshots:   0 total
2025-02-26T21:39:23.3262228Z Time:        26.086 s
2025-02-26T21:39:23.3262443Z Ran all test suites.
2025-02-26T21:39:23.3538782Z ##[error]Process completed with exit code 1.
